<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>商家后台 - TopM</title>
    <link rel="stylesheet" href="./styles/tailwind.generated.css" />
    <link
      rel="stylesheet"
      href="./vendor/fontawesome/css/all.min.css"
    />
    <link
      href="./vendor/inter/inter.css"
      rel="stylesheet"
    />
    <style>
      :root {
        --topm-primary: 15 23 42;
        --topm-accent: 59 130 246;
        --topm-secondary: 99 102 241;
        --topm-bglight: 248 250 252;
        --topm-bg-grad: radial-gradient(
            900px circle at 16% 6%,
            rgb(var(--topm-accent) / 0.1),
            transparent 60%
          ),
          radial-gradient(
            900px circle at 85% 0%,
            rgb(var(--topm-secondary) / 0.1),
            transparent 60%
          );
      }

      body {
        background-image: var(--topm-bg-grad);
        background-attachment: fixed;
        background-color: rgb(var(--topm-bglight));
      }

      ::-webkit-scrollbar {
        width: 6px;
        height: 6px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 3px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }

      .nav-item.active {
        background: linear-gradient(
          90deg,
          rgb(var(--topm-accent) / 0.1) 0%,
          transparent 100%
        );
        border-right: 3px solid rgb(var(--topm-accent));
        color: rgb(var(--topm-accent));
      }
      .nav-item.active i {
        color: rgb(var(--topm-accent));
      }

      .table-row-hover:hover td {
        background-color: rgb(248 250 252);
      }

      /* 强调属性已完成的状态标签和卡片 */
      .attr-status-done {
        background: linear-gradient(120deg, #22c55e, #16a34a);
        color: #fff;
        border-color: rgba(34, 197, 94, 0.8);
        box-shadow: 0 8px 16px -10px rgba(16, 185, 129, 0.7);
        letter-spacing: 0.01em;
      }
      .attr-card-done {
        border-color: rgba(34, 197, 94, 0.6) !important;
        background-image: linear-gradient(135deg, rgba(34, 197, 94, 0.08), rgba(187, 247, 208, 0.6));
        box-shadow: 0 14px 28px -16px rgba(16, 185, 129, 0.45);
      }
      .attr-status-attention {
        background: linear-gradient(120deg, #fb923c, #f97316);
        color: #fff;
        border-color: rgba(251, 146, 60, 0.8);
        box-shadow: 0 8px 18px -10px rgba(251, 146, 60, 0.65);
        letter-spacing: 0.01em;
      }
      .attr-card-attention {
        border-color: rgba(251, 146, 60, 0.7) !important;
        background-image: linear-gradient(135deg, rgba(251, 146, 60, 0.12), rgba(255, 237, 213, 0.7));
        box-shadow: 0 16px 32px -18px rgba(251, 146, 60, 0.45);
        animation: cardPulse 1.4s ease-in-out infinite;
      }
      .temu-toggle-anim {
        animation: temuTogglePulse 0.55s ease-in-out;
      }
      @keyframes temuTogglePulse {
        0% {
          transform: scale(1);
        }
        45% {
          transform: scale(1.18) rotate(-8deg);
        }
        100% {
          transform: scale(1);
        }
      }
      .attr-card-nested {
        margin-left: 12px;
        border-left: 3px dashed #cbd5e1;
        padding-left: 18px;
      }
      @keyframes cardPulse {
        0% {
          box-shadow: 0 16px 32px -18px rgba(251, 146, 60, 0.45);
        }
        50% {
          box-shadow: 0 20px 36px -14px rgba(251, 146, 60, 0.55);
        }
        100% {
          box-shadow: 0 16px 32px -18px rgba(251, 146, 60, 0.45);
        }
      }
    </style>
  </head>
  <body
    data-page="dashboard"
    class="font-sans text-slate-600 antialiased selection:bg-accent/20 selection:text-primary min-h-screen overflow-x-hidden flex flex-col md:flex-row"
  >
    <div
      id="mobile-overlay"
      class="fixed inset-0 bg-black/50 z-40 hidden md:hidden backdrop-blur-sm transition-opacity"
      onclick="toggleSidebar()"
    ></div>

    <aside
      id="sidebar"
      class="fixed md:relative z-50 w-64 h-full bg-white/90 backdrop-blur-xl border-r border-slate-200 shadow-soft transform -translate-x-full md:translate-x-0 transition-transform duration-300 flex flex-col"
    >
      <div class="h-16 flex items-center px-6 border-b border-slate-100">
        <div class="flex items-center gap-2 text-primary">
          <div
            class="w-8 h-8 rounded-lg bg-accent text-white flex items-center justify-center shadow-lg shadow-accent/30"
          >
            <i class="fas fa-cubes"></i>
          </div>
          <span class="text-xl font-bold tracking-tight"
            >TOPM <span class="text-xs text-slate-400 font-normal ml-1">Merchant</span></span
          >
        </div>
      </div>

      <div class="p-4">
        <div
          class="bg-slate-50 rounded-xl p-3 border border-slate-100 flex items-center gap-3"
        >
          <img
            src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix"
            alt="User"
            class="w-10 h-10 rounded-full bg-white shadow-sm"
          />
          <div class="flex-1 min-w-0">
            <div id="profile-name" class="text-sm font-bold text-slate-900 truncate">-</div>
            <div id="profile-id" class="text-[10px] text-slate-500 truncate">ID: -</div>
          </div>
          <button class="text-slate-400 hover:text-accent transition" type="button">
            <i class="fas fa-cog"></i>
          </button>
        </div>
      </div>

      <nav class="flex-1 overflow-y-auto py-2 space-y-1 px-3">
        <div class="text-[10px] font-bold text-slate-400 uppercase tracking-wider px-3 py-2 mt-2">
          控制台
        </div>

        <a
          href="#overview"
          data-route="overview"
          class="nav-item active flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-700 hover:bg-slate-50 transition"
        >
          <i class="fas fa-chart-pie w-5 text-center text-slate-400 transition"></i>
          <span>总览</span>
        </a>
        <a
          href="#orders"
          data-route="orders"
          class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-600 hover:bg-slate-50 transition hover:text-primary group"
        >
          <i class="fas fa-list-ul w-5 text-center text-slate-400 group-hover:text-primary transition"></i>
          <span>订单列表</span>
        </a>

        <div data-alibaba-only="1" class="hidden text-[10px] font-bold text-slate-400 uppercase tracking-wider px-3 py-2 mt-4">
          Alibaba
        </div>
        <a
          data-alibaba-only="1"
          href="#alibaba"
          data-route="alibaba"
          class="hidden nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-600 hover:bg-slate-50 transition hover:text-primary group"
        >
          <i class="fas fa-building w-5 text-center text-slate-400 group-hover:text-primary transition"></i>
          <span>Alibaba 工具</span>
        </a>

        <div class="text-[10px] font-bold text-slate-400 uppercase tracking-wider px-3 py-2 mt-4">
          商品上传
        </div>

        <a
          href="#upload-shein"
          data-route="upload-shein"
          class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-600 hover:bg-slate-50 transition hover:text-primary group"
        >
          <i class="fas fa-cloud-upload-alt w-5 text-center text-slate-400 group-hover:text-primary transition"></i>
          <span>Shein</span>
        </a>
        <a
          href="#upload-tiktok"
          data-route="upload-tiktok"
          class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-600 hover:bg-slate-50 transition hover:text-primary group"
        >
          <i class="fas fa-cloud-upload-alt w-5 text-center text-slate-400 group-hover:text-primary transition"></i>
          <span>TikTok</span>
        </a>
        <a
          href="#upload-temu"
          data-route="upload-temu"
          class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-600 hover:bg-slate-50 transition hover:text-primary group"
        >
          <i class="fas fa-cloud-upload-alt w-5 text-center text-slate-400 group-hover:text-primary transition"></i>
          <span>TEMU</span>
        </a>

        <div class="text-[10px] font-bold text-slate-400 uppercase tracking-wider px-3 py-2 mt-4">
          批采
        </div>

        <a
          href="#wholesales-goods"
          data-route="wholesales-goods"
          class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-600 hover:bg-slate-50 transition hover:text-primary group"
        >
          <i class="fas fa-boxes-stacked w-5 text-center text-slate-400 group-hover:text-primary transition"></i>
          <span>批采商品</span>
        </a>
        <a
          href="#wholesales-sender"
          data-route="wholesales-sender"
          class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-600 hover:bg-slate-50 transition hover:text-primary group"
        >
          <i class="fas fa-address-book w-5 text-center text-slate-400 group-hover:text-primary transition"></i>
          <span>批采发货人</span>
        </a>
        <a
          href="#wholesales-orders"
          data-route="wholesales-orders"
          class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-600 hover:bg-slate-50 transition hover:text-primary group"
        >
          <i class="fas fa-receipt w-5 text-center text-slate-400 group-hover:text-primary transition"></i>
          <span>批采订单</span>
        </a>
        <a
          href="#wholesales-refunds"
          data-route="wholesales-refunds"
          class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-600 hover:bg-slate-50 transition hover:text-primary group"
        >
          <i class="fas fa-rotate-left w-5 text-center text-slate-400 group-hover:text-primary transition"></i>
          <span>批采退款订单</span>
        </a>

        <div class="text-[10px] font-bold text-slate-400 uppercase tracking-wider px-3 py-2 mt-4">
          设置
        </div>

        <a
          href="#shop-info"
          data-route="shop-info"
          class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-600 hover:bg-slate-50 transition hover:text-primary group"
        >
          <i class="fas fa-store w-5 text-center text-slate-400 group-hover:text-primary transition"></i>
          <span>店铺信息</span>
        </a>
        <a
          href="#logistics"
          data-route="logistics"
          class="nav-item flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-600 hover:bg-slate-50 transition hover:text-primary group"
        >
          <i class="fas fa-truck-fast w-5 text-center text-slate-400 group-hover:text-primary transition"></i>
          <span>物流支持</span>
        </a>
      </nav>

      <div class="p-4 border-t border-slate-100">
        <button
          id="dash-logout"
          type="button"
          class="flex items-center gap-2 text-sm font-medium text-rose-500 hover:text-rose-600 w-full px-3 py-2 rounded-lg hover:bg-rose-50 transition"
        >
          <i class="fas fa-sign-out-alt"></i>
          <span>退出登录</span>
        </button>
      </div>
    </aside>

    <main class="flex-1 flex flex-col relative min-w-0">
      <header
        class="h-16 bg-white/80 backdrop-blur-md border-b border-slate-200/60 sticky top-0 z-30 px-4 sm:px-6 flex items-center justify-between"
      >
        <div class="flex items-center gap-4">
          <button
            onclick="toggleSidebar()"
            class="md:hidden w-8 h-8 flex items-center justify-center text-slate-500 hover:bg-slate-100 rounded-lg"
            type="button"
          >
            <i class="fas fa-bars"></i>
          </button>
          <h1 id="page-title" class="text-lg font-bold text-slate-800">总览</h1>
          <div
            class="hidden sm:flex text-xs text-slate-400 bg-slate-100 px-2 py-1 rounded items-center gap-1"
          >
            <i class="far fa-clock"></i> 更新时间：<span id="current-time">--</span>
          </div>
        </div>
      </header>

      <div class="p-4 sm:p-6 lg:p-8 space-y-6">
        <section id="view-overview" class="space-y-6">
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6">
            <div
              class="bg-white rounded-2xl p-5 shadow-soft border border-slate-100 relative overflow-hidden"
            >
              <div class="absolute right-0 top-0 w-24 h-24 bg-accent/5 rounded-bl-full -mr-4 -mt-4"></div>
              <div class="flex items-start justify-between mb-4">
                <div class="w-10 h-10 rounded-xl bg-accent/10 text-accent flex items-center justify-center">
                  <i class="fas fa-user text-lg"></i>
                </div>
              </div>
              <div class="text-slate-500 text-xs font-medium mb-1">当前账号</div>
              <div id="overview-user" class="text-base font-black text-slate-900 truncate">-</div>
              <div class="text-[10px] text-slate-400 mt-1 truncate">
                Token 到期：<span id="overview-expire">-</span>
              </div>
            </div>

            <div
              class="bg-white rounded-2xl p-5 shadow-soft border border-slate-100 relative overflow-hidden"
            >
              <div class="absolute right-0 top-0 w-24 h-24 bg-rose-500/5 rounded-bl-full -mr-4 -mt-4"></div>
              <div class="flex items-start justify-between mb-4">
                <div class="w-10 h-10 rounded-xl bg-rose-500/10 text-rose-600 flex items-center justify-center">
                  <i class="fas fa-store text-lg"></i>
                </div>
              </div>
              <div class="text-slate-500 text-xs font-medium mb-1">Shein 商品数</div>
              <div class="text-2xl font-black text-slate-900"><span id="metric-goods-shein">-</span></div>
            </div>

            <div
              class="bg-white rounded-2xl p-5 shadow-soft border border-slate-100 relative overflow-hidden"
            >
              <div class="absolute right-0 top-0 w-24 h-24 bg-purple-500/5 rounded-bl-full -mr-4 -mt-4"></div>
              <div class="flex items-start justify-between mb-4">
                <div class="w-10 h-10 rounded-xl bg-purple-500/10 text-purple-600 flex items-center justify-center">
                  <i class="fas fa-video text-lg"></i>
                </div>
              </div>
              <div class="text-slate-500 text-xs font-medium mb-1">TikTok 商品数</div>
              <div class="text-2xl font-black text-slate-900"><span id="metric-goods-tiktok">-</span></div>
            </div>

            <div
              class="bg-white rounded-2xl p-5 shadow-soft border border-slate-100 relative overflow-hidden"
            >
              <div class="absolute right-0 top-0 w-24 h-24 bg-emerald-500/5 rounded-bl-full -mr-4 -mt-4"></div>
              <div class="flex items-start justify-between mb-4">
                <div class="w-10 h-10 rounded-xl bg-emerald-500/10 text-emerald-600 flex items-center justify-center">
                  <i class="fas fa-bolt text-lg"></i>
                </div>
              </div>
              <div class="text-slate-500 text-xs font-medium mb-1">TEMU 商品数</div>
              <div class="text-2xl font-black text-slate-900"><span id="metric-goods-temu">-</span></div>
            </div>
          </div>

          <div class="bg-white rounded-2xl shadow-soft border border-slate-100 overflow-hidden">
            <div
              class="px-6 py-4 border-b border-slate-50 flex flex-col sm:flex-row sm:items-center justify-between gap-3"
            >
              <h2 class="text-base font-bold text-slate-800">最近商品（按平台筛选）</h2>
              <div class="flex items-center gap-2 flex-nowrap">
                <select
                  id="overview-platform"
                  class="px-3 py-1.5 rounded-lg border border-slate-200 text-xs bg-white"
                >
                  <option value="0">Shein</option>
                  <option value="1">TikTok</option>
                  <option value="2">TEMU</option>
                </select>
                <button
                  id="overview-refresh"
                  type="button"
                  class="px-3 py-1.5 rounded-lg bg-accent text-white text-xs font-medium hover:bg-accent/90 shadow-md shadow-accent/20"
                >
                  刷新
                </button>
              </div>
            </div>
            <div class="overflow-x-auto">
              <table class="w-full text-left border-collapse">
                <thead>
                  <tr class="text-xs text-slate-400 border-b border-slate-100 bg-slate-50/50">
                    <th class="px-6 py-3 font-semibold">商品ID</th>
                    <th class="px-6 py-3 font-semibold">商品信息</th>
                    <th class="px-6 py-3 font-semibold">状态</th>
                    <th class="px-6 py-3 font-semibold">录入时间</th>
                    <th class="px-6 py-3 font-semibold text-right">操作</th>
                  </tr>
                </thead>
                <tbody id="goods-tbody" class="text-sm text-slate-600">
                  <tr class="table-row-hover transition">
                    <td class="px-6 py-6 text-center text-xs text-slate-400" colspan="5">
                      <i class="fas fa-circle-notch fa-spin mr-2"></i>加载中...
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="px-6 py-4 border-t border-slate-50 flex items-center justify-between">
              <span id="goods-summary" class="text-xs text-slate-400">-</span>
            </div>
          </div>

        </section>

        <section id="view-orders" class="hidden -mx-4 sm:-mx-6 lg:-mx-8 -mt-4 sm:-mt-6 lg:-mt-8">
          <div class="bg-white rounded-none sm:rounded-2xl shadow-soft border border-slate-100 overflow-hidden min-h-[calc(100vh-4rem)]">
            <div class="px-6 py-4 border-b border-slate-50">
              <div class="flex flex-wrap items-center gap-2">
                <input
                  id="orders-keywords"
                  class="flex-1 min-w-[220px] px-3 py-1.5 rounded-lg border border-slate-200 text-xs"
                  placeholder="关键字 keywords(可选)"
                />
                <select
                  id="orders-merge"
                  class="px-3 py-1.5 rounded-lg border border-slate-200 text-xs bg-white"
                >
                  <option value="0">合并：全部</option>
                  <option value="1">合并：是</option>
                  <option value="2">合并：否</option>
                </select>
                <select
                  id="orders-composite-status"
                  class="px-3 py-1.5 rounded-lg border border-slate-200 text-xs bg-white"
                >
                  <option value="">订单状态：全部</option>
                  <option value="1213">1213 全部(包括未支付)</option>
                  <option value="0">0 Unconfirmed</option>
                  <option value="100">100 Await pay</option>
                  <option value="101">101 Await ship</option>
                  <option value="102">102 Finished</option>
                  <option value="1">1 Payment</option>
                  <option value="2">2 Returned</option>
                  <option value="3">3 Invalid</option>
                  <option value="4">4 Returned</option>
                  <option value="6">6 Partial shipment</option>
                </select>
                <select
                  id="orders-alibaba-status"
                  class="px-3 py-1.5 rounded-lg border border-slate-200 text-xs bg-white"
                >
                  <option value="">阿里状态：全部</option>
                  <option value="unpay">未支付(unpay)</option>
                </select>
                <button
                  id="orders-refresh"
                  type="button"
                  class="px-3 py-1.5 rounded-lg bg-accent text-white text-xs font-medium hover:bg-accent/90 shadow-md shadow-accent/20"
                >
                  搜索
                </button>
                <button
                  id="orders-export-settlement"
                  type="button"
                  class="px-3 py-1.5 rounded-lg bg-emerald-600 text-white text-xs font-semibold hover:bg-emerald-700 shadow-md shadow-emerald-200/40 disabled:opacity-50 disabled:cursor-not-allowed"
                  title="导出结算"
                >
                  <i class="fas fa-file-invoice-dollar mr-1"></i>导出结算
                </button>
                <button
                  id="orders-export-picking"
                  type="button"
                  class="px-3 py-1.5 rounded-lg bg-sky-600 text-white text-xs font-semibold hover:bg-sky-700 shadow-md shadow-sky-200/40 disabled:opacity-50 disabled:cursor-not-allowed"
                  title="导出拣货单"
                >
                  <i class="fas fa-list-check mr-1"></i>拣货单导出
                </button>
                <button
                  id="orders-print-all-pdf"
                  type="button"
                  class="px-3 py-1.5 rounded-lg bg-indigo-600 text-white text-xs font-semibold hover:bg-indigo-700 shadow-md shadow-indigo-200/40 disabled:opacity-50 disabled:cursor-not-allowed"
                  title="合并面单"
                >
                  <i class="fas fa-file-pdf mr-1"></i>合并面单
                </button>
                <button
                  id="orders-alibaba-all-pay"
                  type="button"
                  class="hidden px-3 py-1.5 rounded-lg bg-amber-600 text-white text-xs font-semibold hover:bg-amber-700 shadow-md shadow-amber-200/40 disabled:opacity-50 disabled:cursor-not-allowed"
                  title="阿里合并支付"
                >
                  <i class="fas fa-credit-card mr-1"></i>阿里合并支付
                </button>
                <button
                  id="orders-export-ali-push-failed"
                  type="button"
                  class="hidden px-3 py-1.5 rounded-lg bg-rose-600 text-white text-xs font-semibold hover:bg-rose-700 shadow-md shadow-rose-200/40 disabled:opacity-50 disabled:cursor-not-allowed"
                  title="导出推送失败订单（阿里订单编号未推送成功）"
                >
                  <i class="fas fa-triangle-exclamation mr-1"></i>导出推送失败订单
                </button>
              </div>
            </div>

            <div id="orders-error-wrap" class="hidden px-6 pt-4">
              <div
                id="orders-error"
                class="hidden text-xs bg-rose-50 border border-rose-100 text-rose-600 px-3 py-2 rounded-lg"
              ></div>
            </div>

            <div class="overflow-x-hidden">
              <table class="w-full text-left border-collapse">
                <thead>
                  <tr class="text-xs text-slate-400 border-b border-slate-100 bg-slate-50/50">
                    <th class="px-3 py-3 font-semibold whitespace-nowrap">
                      <input
                        id="orders-select-all"
                        type="checkbox"
                        class="h-4 w-4 rounded border-slate-300 text-accent focus:ring-accent"
                        aria-label="全选订单"
                        title="全选/取消全选"
                      />
                    </th>
                    <th class="px-4 py-3 font-semibold whitespace-nowrap">订单号</th>
                    <th class="px-4 py-3 font-semibold whitespace-nowrap">创建时间</th>
                    <th class="px-4 py-3 font-semibold whitespace-nowrap">合并</th>
                    <th class="px-4 py-3 font-semibold">商品</th>
                    <th class="px-4 py-3 font-semibold">状态</th>
                    <th class="px-4 py-3 font-semibold whitespace-nowrap">商品金额</th>
                    <th class="px-4 py-3 font-semibold whitespace-nowrap">支付金额</th>
                    <th class="px-4 py-3 font-semibold">物流单号</th>
                    <th id="orders-ali-th" class="px-4 py-3 font-semibold hidden">
                      阿里订单编号
                    </th>
                    <th id="orders-ali-status-th" class="px-4 py-3 font-semibold hidden" hidden style="display: none">
                      阿里订单状态
                    </th>
                    <th class="px-4 py-3 font-semibold whitespace-nowrap">操作</th>
                  </tr>
                </thead>
                <tbody id="orders-tbody" class="text-sm text-slate-600">
                  <tr class="table-row-hover transition">
                    <td class="px-6 py-6 text-center text-xs text-slate-400" colspan="11">
                      加载中...
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="px-6 py-4 border-t border-slate-50 flex flex-col sm:flex-row sm:items-center justify-between gap-3">
              <span id="orders-summary" class="text-xs text-slate-400">-</span>
              <div class="flex items-center gap-3 justify-end">
                <button
                  id="orders-prev"
                  type="button"
                  class="px-3 py-2 rounded-lg border border-slate-200 text-slate-700 text-xs font-medium hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  上一页
                </button>
                <div id="orders-page" class="text-xs text-slate-500">-</div>
                <div class="flex items-center gap-2">
                  <input
                    id="orders-page-input"
                    type="number"
                    min="1"
                    step="1"
                    class="w-[90px] px-3 py-2 rounded-lg border border-slate-200 text-xs bg-white"
                    placeholder="页码"
                  />
                  <button
                    id="orders-page-go"
                    type="button"
                    class="px-3 py-2 rounded-lg border border-slate-200 text-slate-700 text-xs font-medium hover:bg-slate-50"
                  >
                    跳转
                  </button>
                </div>
                <button
                  id="orders-next"
                  type="button"
                  class="px-3 py-2 rounded-lg border border-slate-200 text-slate-700 text-xs font-medium hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  下一页
                </button>
                <div class="flex items-center gap-2 pl-2 border-l border-slate-100">
                  <span class="text-xs text-slate-400 whitespace-nowrap">每页</span>
                  <input
                    id="orders-size"
                    type="number"
                    min="1"
                    step="1"
                    value="15"
                    class="w-[100px] px-3 py-2 rounded-lg border border-slate-200 text-xs bg-white"
                    placeholder="条数"
                  />
                </div>
              </div>
            </div>
          </div>

          
        </section>

        <section id="view-alibaba" class="space-y-6 hidden">
          <div class="bg-white rounded-2xl shadow-soft border border-slate-100 overflow-hidden">
            <div class="px-6 py-4 border-b border-slate-50 flex flex-col md:flex-row md:items-center justify-between gap-3">
              <div class="flex items-center gap-2">
                <button
                  id="ali-tool-back"
                  type="button"
                  class="hidden px-3 py-2 rounded-xl bg-accent text-white hover:bg-accent/90 inline-flex items-center gap-2 shadow-soft"
                  title="返回"
                >
                  <i class="fas fa-arrow-left"></i>
                  <span class="text-xs font-black">返回</span>
                </button>
                <div class="w-9 h-9 rounded-2xl bg-amber-500/10 text-amber-700 flex items-center justify-center">
                  <i class="fas fa-building"></i>
                </div>
                <div>
                  <h2 id="ali-hero-title" class="text-base font-black text-slate-900">Alibaba 工具</h2>
                  <div id="ali-hero-desc" class="text-xs text-slate-400 mt-0.5">按功能卡片选择，点开再填写</div>
                </div>
              </div>
              <div class="flex items-center gap-2">
                <button
                  id="ali-config-btn"
                  type="button"
                  class="px-4 py-2 rounded-2xl bg-indigo-600 text-white text-xs font-black hover:bg-indigo-700 shadow-soft inline-flex items-center gap-2"
                  title="配置管理"
                >
                  <i class="fas fa-sliders"></i>
                  <span>配置</span>
                </button>
              </div>
            </div>

            <div class="px-6 py-6">
              <div id="ali-tool-cards-area">
              <div id="ali-tool-cards-atomic" class="mt-3 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3">
                <button
                  type="button"
                  data-ali-tool-card="url-extract"
                  class="hidden ali-tool-card group text-left rounded-2xl border border-slate-200 bg-white hover:bg-slate-50 p-4 transition"
                  hidden
                >
                  <div class="w-10 h-10 rounded-2xl bg-sky-500/10 text-sky-700 flex items-center justify-center">
                    <i class="fas fa-link"></i>
                  </div>
                  <div class="mt-3 text-sm font-black text-slate-900">URL 提取</div>
                  <div class="mt-1 text-xs text-slate-500">从 Alibaba URL 提取 product_id</div>
                </button>

                <button
                  type="button"
                  data-ali-tool-card="url-push"
                  class="ali-tool-card group text-left rounded-2xl border border-slate-200 bg-white hover:bg-slate-50 p-4 transition"
                >
                  <div class="w-10 h-10 rounded-2xl bg-rose-500/10 text-rose-700 flex items-center justify-center">
                    <i class="fas fa-paper-plane"></i>
                  </div>
                  <div class="mt-3 text-sm font-black text-slate-900">URL 推送</div>
                  <div class="mt-1 text-xs text-slate-500">粘贴 URL 自动解析 product_id 并一键上品</div>
                </button>

                <button
                  type="button"
                  data-ali-tool-card="elegate-browser"
                  class="ali-tool-card group text-left rounded-2xl border border-slate-200 bg-white hover:bg-slate-50 p-4 transition"
                >
                  <div class="w-10 h-10 rounded-2xl bg-emerald-500/10 text-emerald-700 flex items-center justify-center">
                    <i class="fas fa-magnifying-glass"></i>
                  </div>
                  <div class="mt-3 text-sm font-black text-slate-900">Ele-Gate 商品</div>
                  <div class="mt-1 text-xs text-slate-500">列表浏览并查看商品详情</div>
                </button>

                <button
                  type="button"
                  data-ali-tool-card="openapi"
                  class="hidden ali-tool-card group text-left rounded-2xl border border-slate-200 bg-white hover:bg-slate-50 p-4 transition"
                  hidden
                >
                  <div class="w-10 h-10 rounded-2xl bg-amber-500/10 text-amber-700 flex items-center justify-center">
                    <i class="fas fa-database"></i>
                  </div>
                  <div class="mt-3 text-sm font-black text-slate-900">拉取详情</div>
                  <div class="mt-1 text-xs text-slate-500">通过 OpenAPI 拉取商品详情 JSON</div>
                </button>

                <button
                  type="button"
                  data-ali-tool-card="alibaba-products"
                  class="ali-tool-card group text-left rounded-2xl border border-slate-200 bg-white hover:bg-slate-50 p-4 transition"
                >
                  <div class="w-10 h-10 rounded-2xl bg-orange-500/10 text-orange-700 flex items-center justify-center">
                    <i class="fab fa-alipay"></i>
                  </div>
                  <div class="mt-3 text-sm font-black text-slate-900">Alibaba 商品</div>
                  <div class="mt-1 text-xs text-slate-500">列表浏览并查看商品详情</div>
                </button>

              </div>
              </div>

              <div id="ali-tool-stage-wrap" class="hidden mt-6">
                <div class="flex flex-wrap items-center justify-between gap-2">
                  <div class="flex items-center gap-2">
                    <button
                      id="ali-tool-back"
                      type="button"
                      class="hidden px-3 py-2 rounded-xl bg-accent text-white hover:bg-accent/90 inline-flex items-center gap-2 shadow-soft"
                      title="返回"
                    >
                      <i class="fas fa-arrow-left"></i>
                      <span class="text-xs font-black">返回</span>
                    </button>
                    <div class="flex items-center gap-2">
                      <div id="ali-tool-stage-title" class="text-sm font-black text-slate-900"></div>
                    </div>
                  </div>
                  <div class="text-xs text-slate-500" id="ali-tool-stage-desc"></div>
                </div>
                <div id="ali-tool-stage" class="mt-3"></div>
              </div>
            </div>
          </div>

          <template id="tpl-ali-config">
            <div class="space-y-4">
              <div class="flex items-center justify-between gap-3">
                <div>
                  <div id="ali-cfg-tip" class="text-xs text-slate-500">默认锁定，修改需解锁并确认。</div>
                </div>
                <div class="flex items-center gap-2">
                  <button
                    id="ali-cfg-refresh"
                    type="button"
                    class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50"
                  >
                    <i class="fas fa-rotate mr-1"></i>刷新
                  </button>
                  <button
                    id="ali-cfg-unlock"
                    type="button"
                    class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50"
                  >
                    <i class="fas fa-lock mr-1"></i>解锁
                  </button>
                  <button
                    id="ali-cfg-save"
                    type="button"
                    class="px-3 py-2 rounded-xl bg-accent text-white text-xs font-semibold hover:bg-accent/90"
                    disabled
                  >
                    <i class="fas fa-floppy-disk mr-1"></i>保存
                  </button>
                </div>
              </div>

              <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                <div class="rounded-2xl border border-slate-100 bg-white p-4">
                  <div class="text-xs font-bold text-slate-400 uppercase tracking-wider">Ele-Gate</div>
                  <div class="mt-3 space-y-3">
                    <div class="space-y-2">
                      <label class="text-xs text-slate-500">base_origin</label>
                      <input id="ali-cfg-elegate-base-origin" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" disabled />
                    </div>
                    <div class="space-y-2">
                      <label class="text-xs text-slate-500">consumer_key</label>
                      <input id="ali-cfg-elegate-consumer-key" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" disabled />
                    </div>
                    <div class="space-y-2">
                      <label class="text-xs text-slate-500">consumer_secret</label>
                      <input id="ali-cfg-elegate-consumer-secret" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" disabled />
                    </div>
                  </div>
                </div>

                <div class="rounded-2xl border border-slate-100 bg-white p-4">
                  <div class="text-xs font-bold text-slate-400 uppercase tracking-wider">Alibaba OpenAPI</div>
                  <div class="mt-3 space-y-3">
                    <div class="space-y-2">
                      <label class="text-xs text-slate-500">access_token</label>
                      <input id="ali-cfg-openapi-access-token" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" disabled />
                    </div>
                    <div class="grid grid-cols-2 gap-2">
                      <div class="space-y-2">
                        <label class="text-xs text-slate-500">app_key</label>
                        <input id="ali-cfg-openapi-app-key" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" disabled />
                      </div>
                      <div class="space-y-2">
                        <label class="text-xs text-slate-500">app_secret</label>
                        <input id="ali-cfg-openapi-app-secret" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" disabled />
                      </div>
                    </div>
                    <div class="space-y-2">
                      <label class="text-xs text-slate-500">server_url</label>
                      <input id="ali-cfg-openapi-server-url" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" disabled />
                    </div>
                    <div class="space-y-2">
                      <label class="text-xs text-slate-500">default country</label>
                      <input id="ali-cfg-country-default" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" disabled />
                    </div>
                  </div>
                </div>
              </div>

              <div class="rounded-2xl border border-slate-100 bg-white p-4">
                <div class="text-xs font-bold text-slate-400 uppercase tracking-wider">Push</div>
                <div class="mt-3 grid grid-cols-1 lg:grid-cols-4 gap-3">
                  <div class="space-y-2">
                    <label class="text-xs text-slate-500">price_multiplier</label>
                    <input id="ali-cfg-price-multiplier" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" disabled />
                  </div>
                  <div class="space-y-2 lg:col-span-1">
                    <label class="text-xs text-slate-500">tiktok url</label>
                    <input id="ali-cfg-push-tiktok-url" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" disabled />
                  </div>
                  <div class="space-y-2 lg:col-span-1">
                    <label class="text-xs text-slate-500">shein url</label>
                    <input id="ali-cfg-push-shein-url" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" disabled />
                  </div>
                  <div class="space-y-2 lg:col-span-1">
                    <label class="text-xs text-slate-500">temu url</label>
                    <input id="ali-cfg-push-temu-url" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" disabled />
                  </div>
                </div>
              </div>
            </div>
          </template>

          <template id="tpl-ali-url-extract">
            <div class="rounded-2xl border border-slate-100 bg-white p-4">
              <div class="text-sm font-black text-slate-900">URL 提取 product_id</div>
              <div class="mt-3 flex items-center gap-2">
                <input id="ali-url-input" class="flex-1 px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" placeholder="粘贴 Alibaba 商品 URL" />
                <button id="ali-url-extract" type="button" class="px-3 py-2 rounded-xl bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800">提取</button>
              </div>
              <div class="mt-3 flex items-center gap-2">
                <input id="ali-url-product-id" class="flex-1 px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" placeholder="product_id" readonly />
                <button id="ali-url-copy" type="button" class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50">复制</button>
              </div>
              <div id="ali-url-summary" class="mt-3 text-xs text-slate-500">-</div>
            </div>
          </template>

          <template id="tpl-ali-url-push">
            <div class="rounded-2xl border border-slate-100 bg-white p-4 space-y-4">
              <div class="flex flex-col md:flex-row md:items-center justify-between gap-3">
                <div>
                  <div class="text-sm font-black text-slate-900">URL 推送 / 上品</div>
                  <div class="text-xs text-slate-400 mt-1">每行一个 Alibaba URL，自动提取 product_id，预览后确认推送</div>
                </div>
                <div class="flex flex-wrap items-center gap-2 justify-end">
                  <input id="ali-url-push-country" class="w-[90px] px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" placeholder="国家" />
                  <input id="ali-url-push-mult" class="w-[110px] px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" value="21" title="price_multiplier" />
                  <label class="inline-flex items-center gap-2 text-xs font-semibold text-slate-700">
                    <input id="ali-url-push-plat-tiktok" type="checkbox" class="w-4 h-4" checked />
                    <span><i class="fab fa-tiktok text-slate-900 mr-1"></i>TikTok</span>
                  </label>
                  <label class="inline-flex items-center gap-2 text-xs font-semibold text-slate-700">
                    <input id="ali-url-push-plat-shein" type="checkbox" class="w-4 h-4" checked />
                    <span><i class="fas fa-shirt text-rose-600 mr-1"></i>Shein</span>
                  </label>
                  <label class="inline-flex items-center gap-2 text-xs font-semibold text-slate-700">
                    <input id="ali-url-push-plat-temu" type="checkbox" class="w-4 h-4" checked />
                    <span><i class="fas fa-bag-shopping text-orange-600 mr-1"></i>TEMU</span>
                  </label>
                </div>
              </div>

              <textarea
                id="ali-url-push-text"
                rows="4"
                class="w-full px-3 py-2 rounded-2xl border border-slate-200 text-xs bg-white"
                placeholder="粘贴 Alibaba 商品 URL（可多行，每行一个）"
              ></textarea>

              <div class="flex flex-wrap items-center gap-2">
                <button id="ali-url-push-parse" type="button" class="px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800">
                  <i class="fas fa-list-check mr-1"></i>解析预览
                </button>
                <button id="ali-url-push-run" type="button" class="px-4 py-2 rounded-xl bg-accent text-white text-xs font-semibold hover:bg-accent/90">
                  <i class="fas fa-cloud-arrow-up mr-1"></i>确认推送
                </button>
                <button id="ali-url-push-clear" type="button" class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50">
                  <i class="fas fa-eraser mr-1"></i>清空
                </button>
                <div id="ali-url-push-summary" class="text-xs text-slate-500">-</div>
              </div>

              <div id="ali-url-push-list" class="grid grid-cols-1 md:grid-cols-2 gap-3"></div>
            </div>
          </template>

          <template id="tpl-ali-elegate-browser">
            <div id="ali-egb-list-wrap" class="rounded-2xl border border-slate-100 bg-white overflow-hidden">
              <div class="px-5 py-3 border-b border-slate-100 flex flex-col lg:flex-row lg:items-center justify-between gap-2">
                <div id="ali-egb-summary" class="text-xs text-slate-500">-</div>
                <div class="flex flex-wrap items-center gap-2 justify-end">
                  <input id="ali-egb-q" class="w-[240px] px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" placeholder="筛选：SKU/标题（本页）" />
                  <button id="ali-egb-load" type="button" class="px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800">
                    <i class="fas fa-rotate mr-1"></i>加载
                  </button>
                </div>
              </div>

              <div class="overflow-x-auto">
                <table class="w-full text-left border-collapse">
                  <thead>
                    <tr class="text-[11px] text-slate-400 border-b border-slate-100 bg-slate-50/50">
                      <th class="px-5 py-3 font-bold">图片</th>
                      <th class="px-5 py-3 font-bold">SKU / ID</th>
                      <th class="px-5 py-3 font-bold">标题</th>
                      <th class="px-5 py-3 font-bold">价格</th>
                      <th class="px-5 py-3 font-bold">库存</th>
                      <th class="px-5 py-3 font-bold">状态</th>
                      <th class="px-5 py-3 font-bold text-right">操作</th>
                    </tr>
                  </thead>
                  <tbody id="ali-egb-tbody" class="text-sm text-slate-700"></tbody>
                </table>
              </div>

              <div class="px-5 py-4 border-t border-slate-100 flex items-center justify-between">
                <div class="text-xs text-slate-400">提示：点击“详情”查看弹窗详情。</div>
                <div class="flex flex-wrap items-center gap-2 justify-end">
                  <div id="ali-egb-page-info" class="text-xs text-slate-500">-</div>
                  <button id="ali-egb-prev" type="button" class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50">上一页</button>
                  <button id="ali-egb-next" type="button" class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50">下一页</button>
                  <input id="ali-egb-page" type="number" min="1" step="1" value="1" class="w-[90px] px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" />
                  <button id="ali-egb-page-go" type="button" class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50">跳转</button>
                  <input id="ali-egb-size" type="number" min="1" step="1" value="12" class="w-[90px] px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" />
                </div>
              </div>
            </div>

            <div id="ali-egb-detail-wrap" class="hidden mt-4 rounded-2xl border border-slate-100 bg-white overflow-hidden">
              <div class="px-5 py-4 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center justify-between gap-3">
                <div class="flex items-start gap-3">
                  <button
                    id="ali-egb-detail-back"
                    type="button"
                    class="px-4 py-2 rounded-2xl bg-accent text-white hover:bg-accent/90 inline-flex items-center gap-2 shadow-soft"
                    title="返回列表"
                  >
                    <i class="fas fa-arrow-left"></i>
                    <span class="text-xs font-black">返回列表</span>
                  </button>
                  <div class="min-w-0">
                    <div id="ali-egb-detail-title" class="text-sm font-black text-slate-900 truncate">商品详情</div>
                    <div id="ali-egb-detail-summary" class="text-xs text-slate-400 mt-1 truncate">-</div>
                  </div>
                </div>
                <button
                  id="ali-egb-detail-open-link"
                  type="button"
                  class="hidden px-3 py-2 rounded-2xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50"
                >
                  <i class="fas fa-arrow-up-right-from-square mr-1"></i>外链
                </button>
              </div>
              <div class="p-6">
                <div id="ali-egb-detail-body"></div>
              </div>
            </div>
          </template>

          <template id="tpl-ali-alibaba-products">
            <div id="ali-ap-list-wrap" class="rounded-2xl border border-slate-100 bg-white overflow-hidden">
              <div class="px-5 py-3 border-b border-slate-100 flex flex-col lg:flex-row lg:items-center justify-between gap-2">
                <div id="ali-ap-summary" class="text-xs text-slate-500">-</div>
                <div class="flex flex-wrap items-center gap-2 justify-end">
                  <input id="ali-ap-q" class="w-[240px] px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" placeholder="product_id 回车直查 · 为空则分页" />
                  <input id="ali-ap-country" class="w-[90px] px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" placeholder="MX" />
                  <button id="ali-ap-batch-open" type="button" class="px-3 py-2 rounded-xl bg-accent text-white text-xs font-semibold hover:bg-accent/90">
                    <i class="fas fa-rocket mr-1"></i>批量推送
                  </button>
                  <button id="ali-ap-load" type="button" class="px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800">
                    <i class="fas fa-rotate mr-1"></i>加载
                  </button>
                </div>
              </div>

              <div id="ali-ap-batch-panel" class="hidden px-5 py-4 border-b border-slate-100 bg-slate-50/40">
                <div class="flex flex-col lg:flex-row lg:items-center justify-between gap-3">
                  <div class="min-w-0">
                    <div class="text-sm font-black text-slate-900 flex items-center gap-2">
                      <i class="fas fa-layer-group text-accent"></i>批量推送
                      <span id="ali-ap-batch-count" class="text-[11px] text-slate-500 font-semibold"></span>
                    </div>
                    <div id="ali-ap-batch-summary" class="text-xs text-slate-500 mt-1">-</div>
                  </div>
                  <div class="flex flex-wrap items-center gap-3 justify-end">
                    <label class="inline-flex items-center gap-2 text-xs font-semibold text-slate-700">
                      <input id="ali-ap-batch-plat-tiktok" type="checkbox" class="w-4 h-4" checked />
                      <span><i class="fab fa-tiktok text-slate-900 mr-1"></i>TikTok</span>
                    </label>
                    <label class="inline-flex items-center gap-2 text-xs font-semibold text-slate-700">
                      <input id="ali-ap-batch-plat-shein" type="checkbox" class="w-4 h-4" checked />
                      <span><i class="fas fa-shirt text-rose-600 mr-1"></i>Shein</span>
                    </label>
                    <label class="inline-flex items-center gap-2 text-xs font-semibold text-slate-700">
                      <input id="ali-ap-batch-plat-temu" type="checkbox" class="w-4 h-4" checked />
                      <span><i class="fas fa-bag-shopping text-orange-600 mr-1"></i>TEMU</span>
                    </label>
                    <input id="ali-ap-batch-country" class="w-[90px] px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" placeholder="MX" />
                    <input id="ali-ap-batch-multiplier" class="w-[110px] px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" value="21" />
                    <button id="ali-ap-batch-run" type="button" class="px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800">
                      <i class="fas fa-cloud-arrow-up mr-1"></i>开始推送
                    </button>
                    <button id="ali-ap-batch-close" type="button" class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50">
                      <i class="fas fa-xmark mr-1"></i>收起
                    </button>
                  </div>
                </div>
                <div id="ali-ap-batch-view" class="mt-3"></div>
              </div>

              <div class="overflow-x-auto">
                <table class="w-full text-left border-collapse">
                  <thead>
                    <tr class="text-[11px] text-slate-400 border-b border-slate-100 bg-slate-50/50">
                      <th class="px-5 py-3 font-bold">
                        <label class="inline-flex items-center gap-2">
                          <input id="ali-ap-select-all" type="checkbox" class="w-4 h-4" />
                          <span>选</span>
                        </label>
                      </th>
                      <th class="px-5 py-3 font-bold">图片</th>
                      <th class="px-5 py-3 font-bold">商品 / ID&SKU</th>
                      <th class="px-5 py-3 font-bold">供应商</th>
                      <th class="px-5 py-3 font-bold">价格</th>
                      <th class="px-5 py-3 font-bold">可购</th>
                      <th class="px-5 py-3 font-bold">状态</th>
                      <th class="px-5 py-3 font-bold text-right">操作（推送/详情）</th>
                    </tr>
                  </thead>
                  <tbody id="ali-ap-tbody" class="text-sm text-slate-700"></tbody>
                </table>
              </div>

              <div class="px-5 py-4 border-t border-slate-100 flex items-center justify-between">
                <div class="text-xs text-slate-400">提示：输入 product_id 回车可直接定位该商品；点击“详情”在本页查看详情。</div>
                <div class="flex flex-wrap items-center gap-2 justify-end">
                  <div id="ali-ap-page-info" class="text-xs text-slate-500">-</div>
                  <button id="ali-ap-prev" type="button" class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50">上一页</button>
                  <button id="ali-ap-next" type="button" class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50">下一页</button>
                  <input id="ali-ap-page" type="number" min="1" step="1" value="1" class="w-[90px] px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" />
                  <button id="ali-ap-page-go" type="button" class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50">跳转</button>
                  <input id="ali-ap-size" type="number" min="1" step="1" value="20" class="w-[90px] px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" />
                </div>
              </div>
            </div>

            <div id="ali-ap-detail-wrap" class="hidden mt-4 rounded-2xl border border-slate-100 bg-white overflow-hidden">
              <div class="px-5 py-4 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center justify-between gap-3">
                <div class="flex items-start gap-3">
                  <button
                    id="ali-ap-detail-back"
                    type="button"
                    class="px-4 py-2 rounded-2xl bg-accent text-white hover:bg-accent/90 inline-flex items-center gap-2 shadow-soft"
                    title="返回列表"
                  >
                    <i class="fas fa-arrow-left"></i>
                    <span class="text-xs font-black">返回列表</span>
                  </button>
                  <div class="min-w-0">
                    <div id="ali-ap-detail-title" class="text-sm font-black text-slate-900 truncate">商品详情</div>
                    <div id="ali-ap-detail-summary" class="text-xs text-slate-400 mt-1 truncate">-</div>
                  </div>
                </div>
                <button
                  id="ali-ap-detail-open-link"
                  type="button"
                  class="hidden px-3 py-2 rounded-2xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50"
                >
                  <i class="fas fa-arrow-up-right-from-square mr-1"></i>外链
                </button>
              </div>
              <div class="p-6">
                <div id="ali-ap-detail-body"></div>
              </div>
            </div>
          </template>

          <template id="tpl-ali-openapi">
            <div class="rounded-2xl border border-slate-100 bg-white p-4">
              <div class="flex flex-col md:flex-row md:items-center justify-between gap-3">
                <div>
                  <div class="text-sm font-black text-slate-900">拉取阿里商品详情（OpenAPI）</div>
                  <div class="text-xs text-slate-400 mt-1">用于后续“URL 上品 / 推送平台”。</div>
                </div>
                <div class="flex items-center gap-2">
                  <input id="ali-prod-id" class="w-[180px] px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" placeholder="product_id" />
                  <input id="ali-prod-country" class="w-[90px] px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" placeholder="MX" />
                  <button id="ali-prod-fetch" type="button" class="px-3 py-2 rounded-xl bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800">获取</button>
                </div>
              </div>
              <div id="ali-prod-summary" class="mt-3 text-xs text-slate-500">-</div>
              <div id="ali-prod-view" class="mt-3"></div>
            </div>
          </template>

          <!-- URL 上品已合并到「Alibaba 商品」列表推送 -->
        </section>

        <section id="view-upload-shein" class="space-y-6 hidden">
          <div id="shein-list-wrap" class="bg-white rounded-2xl shadow-soft border border-slate-100 overflow-hidden">
            <div class="px-6 py-4 border-b border-slate-50 flex flex-col lg:flex-row lg:items-center justify-between gap-3">
              <div class="flex items-center gap-2">
                <div class="w-9 h-9 rounded-2xl bg-slate-900/5 text-slate-700 flex items-center justify-center">
                  <i class="fas fa-bag-shopping"></i>
                </div>
                <div>
                  <h2 class="text-base font-black text-slate-900">Shein 商品</h2>
                  <!-- API label hidden by request -->
                </div>
              </div>
              <div class="flex flex-wrap items-center gap-2">
                <input
                  id="shein-keywords"
                  class="px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white w-64"
                  placeholder="搜索：货号/ID/名称"
                />
                <button
                  id="shein-refresh"
                  type="button"
                  class="px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800"
                >
                  <i class="fas fa-magnifying-glass mr-1"></i>搜索
                </button>
                <button
                  id="shein-go-upload"
                  type="button"
                  class="px-4 py-2 rounded-xl bg-accent text-white text-xs font-semibold hover:bg-accent/90"
                  title="前往 Shein 商品上传"
                >
                  <i class="fas fa-cloud-arrow-up mr-1"></i>商品上传
                </button>
              </div>
            </div>
            <div class="overflow-x-auto">
              <table class="w-full text-left border-collapse">
                <thead>
                  <tr class="text-xs text-slate-400 border-b border-slate-100 bg-slate-50/50">
                    <th class="px-6 py-3 font-semibold">商品ID</th>
                    <th class="px-6 py-3 font-semibold">商品信息</th>
                    <th class="px-6 py-3 font-semibold">SKU</th>
                    <th class="px-6 py-3 font-semibold whitespace-nowrap">在售状态</th>
                    <th class="px-6 py-3 font-semibold whitespace-nowrap">审核状态</th>
                    <th class="px-6 py-3 font-semibold whitespace-nowrap text-right">售价</th>
                    <th class="px-6 py-3 font-semibold">录入时间</th>
                    <th class="px-6 py-3 font-semibold text-right">操作</th>
                  </tr>
                </thead>
                <tbody id="shein-goods-tbody" class="text-sm text-slate-600"></tbody>
              </table>
            </div>

            <div class="px-6 py-4 border-t border-slate-50 flex flex-col md:flex-row md:items-center justify-between gap-3">
              <span id="shein-goods-summary" class="text-xs text-slate-400">-</span>
              <div class="flex flex-wrap items-center gap-2 justify-end">
                <button
                  id="shein-prev"
                  type="button"
                  class="px-3 py-2 rounded-lg border border-slate-200 text-slate-700 text-xs font-medium hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  上一页
                </button>
                <div id="shein-page" class="text-xs text-slate-500">-</div>
                <div class="flex items-center gap-2">
                  <input
                    id="shein-page-input"
                    type="number"
                    min="1"
                    step="1"
                    class="w-[90px] px-3 py-2 rounded-lg border border-slate-200 text-xs bg-white"
                    placeholder="页码"
                  />
                  <button
                    id="shein-page-go"
                    type="button"
                    class="px-3 py-2 rounded-lg border border-slate-200 text-slate-700 text-xs font-medium hover:bg-slate-50"
                  >
                    跳转
                  </button>
                </div>
                <button
                  id="shein-next"
                  type="button"
                  class="px-3 py-2 rounded-lg border border-slate-200 text-slate-700 text-xs font-medium hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  下一页
                </button>
                <div class="flex items-center gap-2 pl-2 border-l border-slate-100">
                  <span class="text-xs text-slate-400 whitespace-nowrap">每页</span>
                  <input
                    id="shein-size"
                    type="number"
                    min="1"
                    step="1"
                    value="15"
                    class="w-[100px] px-3 py-2 rounded-lg border border-slate-200 text-xs bg-white"
                    placeholder="条数"
                  />
                </div>
              </div>
            </div>
          </div>
          <div id="shein-upload-wrap" class="hidden bg-white rounded-2xl shadow-soft border border-slate-100 overflow-hidden">
            <div class="px-6 py-4 border-b border-slate-50 flex flex-col sm:flex-row sm:items-center justify-between gap-3">
              <div class="min-w-0">
                <h2 class="text-base font-bold text-slate-800">Shein 商品上传</h2>
                <div class="text-xs text-slate-400 mt-0.5">按步骤完成：类目 → 属性模板 → 上传图片 → 提交</div>
              </div>
              <div class="flex items-center gap-2">
                <button
                  id="shein-back-to-list"
                  type="button"
                  class="text-xs font-semibold px-3 py-2 rounded-lg bg-white border border-slate-200 text-slate-700 hover:bg-slate-50"
                  title="返回 Shein 商品列表"
                >
                  <i class="fas fa-arrow-left mr-1"></i>返回列表
                </button>
                <button
                  id="shein-reset"
                  type="button"
                  class="text-xs font-semibold px-3 py-2 rounded-lg border border-slate-200 text-slate-600 hover:bg-slate-50"
                >
                  <i class="fas fa-eraser mr-1"></i>清空
                </button>
              </div>
            </div>

            <div class="p-6 space-y-4">
              <div class="bg-slate-50/60 border border-slate-100 rounded-2xl p-4">
                <div class="text-xs font-bold text-slate-600 flex items-center gap-2 mb-3">
                  <i class="fas fa-route text-[12px] text-slate-500"></i>
                  <span>步骤导航</span>
                  <span class="text-[11px] text-slate-400 font-medium">完成后可提交</span>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2">
                  <button id="shein-step-1-btn" type="button" class="text-left px-3 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 transition">
                    <div class="flex items-center gap-3">
                      <span id="shein-step-1-dot" class="w-7 h-7 rounded-full bg-accent/10 text-accent flex items-center justify-center text-xs font-black">1</span>
                      <div class="min-w-0">
                        <div class="text-sm font-semibold text-slate-800">选择类目</div>
                        <div id="shein-step-1-hint" class="text-[11px] text-slate-400 truncate">请选择叶子类目</div>
                      </div>
                      <i id="shein-step-1-check" class="fas fa-check-circle text-emerald-600 hidden"></i>
                    </div>
                  </button>
                  <button id="shein-step-2-btn" type="button" class="text-left px-3 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 transition">
                    <div class="flex items-center gap-3">
                      <span id="shein-step-2-dot" class="w-7 h-7 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center text-xs font-black">2</span>
                      <div class="min-w-0">
                        <div class="text-sm font-semibold text-slate-800">获取模板</div>
                        <div id="shein-step-2-hint" class="text-[11px] text-slate-400 truncate">获取属性模板</div>
                      </div>
                      <i id="shein-step-2-check" class="fas fa-check-circle text-emerald-600 hidden"></i>
                    </div>
                  </button>
                  <button id="shein-step-3-btn" type="button" class="text-left px-3 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 transition">
                    <div class="flex items-center gap-3">
                      <span id="shein-step-3-dot" class="w-7 h-7 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center text-xs font-black">3</span>
                      <div class="min-w-0">
                        <div class="text-sm font-semibold text-slate-800">上传图片</div>
                        <div id="shein-step-3-hint" class="text-[11px] text-slate-400 truncate">上传细节/方形/色块/详情图</div>
                      </div>
                      <i id="shein-step-3-check" class="fas fa-check-circle text-emerald-600 hidden"></i>
                    </div>
                  </button>
                  <button id="shein-step-4-btn" type="button" class="text-left px-3 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 transition">
                    <div class="flex items-center gap-3">
                      <span id="shein-step-4-dot" class="w-7 h-7 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center text-xs font-black">4</span>
                      <div class="min-w-0">
                        <div class="text-sm font-semibold text-slate-800">提交商品</div>
                        <div id="shein-step-4-hint" class="text-[11px] text-slate-400 truncate">填写核心字段并提交</div>
                      </div>
                      <i id="shein-step-4-check" class="fas fa-check-circle text-emerald-600 hidden"></i>
                    </div>
                  </button>
                </div>
              </div>

              <div class="bg-white border border-slate-100 rounded-2xl p-5 space-y-4">
                <div id="shein-step-1-panel" class="space-y-3">
                  <div class="flex items-center justify-between gap-3">
                    <div>
                      <div class="text-sm font-bold text-slate-800 flex items-center gap-2">
                        <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-accent/10 text-accent text-[11px] font-black">1</span>
                        选择类目
                      </div>
                      <div class="text-xs text-slate-400 mt-1">请选择叶子类目，用于模板与提交。</div>
                    </div>
                    <div class="text-xs text-slate-500">
                      已选：<span id="shein-cat-id-text" class="font-semibold text-slate-700">-</span>
                      <span id="shein-cat-id" class="hidden">-</span>
                    </div>
                  </div>
                  <div id="shein-cat-select" class="space-y-2"></div>
                  <div class="flex justify-end">
                    <button id="shein-step-next-1" type="button" class="px-4 py-2 rounded-xl bg-accent text-white text-xs font-semibold hover:bg-accent/90">
                      下一步<i class="fas fa-arrow-right ml-1"></i>
                    </button>
                  </div>
                </div>

                <div id="shein-step-2-panel" class="hidden space-y-3">
                  <div class="flex items-center justify-between gap-3">
                    <div>
                      <div class="text-sm font-bold text-slate-800 flex items-center gap-2">
                        <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-accent/10 text-accent text-[11px] font-black">2</span>
                        获取属性模板
                      </div>
                      <div class="text-xs text-slate-400 mt-1">根据类目获取模板，并准备普通/销售属性。</div>
                    </div>
                    <div class="flex items-center gap-2">
                      <button id="shein-template-clear" type="button" class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50">
                        <i class="fas fa-trash mr-1"></i>清空
                      </button>
                      <button id="shein-fetch-template" type="button" class="px-3 py-2 rounded-xl bg-accent text-white text-xs font-semibold hover:bg-accent/90 shadow-md shadow-accent/20">
                        <i class="fas fa-wand-magic-sparkles mr-1"></i>获取模板
                      </button>
                    </div>
                  </div>
                  <div id="shein-template-msg" class="hidden text-xs bg-slate-50 border border-slate-200 text-slate-600 px-3 py-2 rounded-xl"></div>
                  <pre id="shein-template" class="text-[11px] bg-slate-50 border border-slate-100 rounded-xl p-3 overflow-auto max-h-48 whitespace-pre-wrap"></pre>
                  <div id="shein-template-form" class="grid grid-cols-1 lg:grid-cols-2 gap-6"></div>
                  <div id="shein-spec-block" class="bg-white border border-slate-100 rounded-2xl p-4 space-y-3">
                    <div class="flex items-center gap-2 text-sm font-semibold text-slate-800">
                      <i class="fas fa-layer-group text-slate-500"></i>
                      <span>规格及供应信息</span>
                      <span id="shein-spec-msg" class="text-[11px] text-slate-400">主规格必选，最多 3 个属性值</span>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <button
                        id="shein-spec-main-card"
                        type="button"
                        class="relative overflow-hidden rounded-3xl border-2 border-slate-100 bg-white p-5 pl-6 text-left w-full hover:border-accent/30 transition-colors"
                      >
                        <div class="absolute left-2 top-4 bottom-4 w-1 rounded-full bg-emerald-500"></div>
                        <div class="absolute -right-8 -top-10 text-slate-100 text-6xl rotate-12 pointer-events-none">
                          <i class="fas fa-star"></i>
                        </div>
                        <div class="pl-2 space-y-2">
                          <div class="flex items-start gap-2 text-base font-black text-slate-900">
                            <i class="fas fa-cube text-slate-600 mt-0.5"></i>
                            <span>主规格</span>
                          </div>
                          <div class="text-[11px] text-slate-400">最多添加3个销售属性，第一主销售属性可添加图片</div>
                          <div id="shein-spec-main-summary" class="text-xs text-slate-400">未选择</div>
                          <div class="flex justify-end">
                            <span id="shein-spec-main-badge" class="text-[10px] text-emerald-700 bg-emerald-50 border border-emerald-200 px-2 py-0.5 rounded-full font-black">必选 1-3</span>
                          </div>
                        </div>
                      </button>
                      <button
                        id="shein-spec-other-card"
                        type="button"
                        class="relative overflow-hidden rounded-3xl border-2 border-slate-100 bg-white p-5 pl-6 text-left w-full hover:border-accent/30 transition-colors"
                      >
                        <div class="absolute left-2 top-4 bottom-4 w-1 rounded-full bg-slate-400/70"></div>
                        <div class="absolute -right-8 -top-10 text-slate-100 text-6xl rotate-12 pointer-events-none">
                          <i class="fas fa-layer-group"></i>
                        </div>
                        <div class="pl-2 space-y-2">
                          <div class="flex items-start gap-2 text-base font-black text-slate-900">
                            <i class="fas fa-cubes text-slate-600 mt-0.5"></i>
                            <span>次规格</span>
                          </div>
                          <div id="shein-spec-other-summary" class="text-xs text-slate-400">未选择</div>
                          <div class="flex justify-end">
                            <span id="shein-spec-other-badge" class="text-[10px] text-slate-700 bg-slate-50 border border-slate-200 px-2 py-0.5 rounded-full font-black">可选</span>
                          </div>
                        </div>
                      </button>
                    </div>
                  </div>
                  <div class="flex items-center justify-between">
                    <button id="shein-step-back-2" type="button" class="px-4 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50">
                      <i class="fas fa-arrow-left mr-1"></i>上一步
                    </button>
                    <button id="shein-step-next-2" type="button" class="px-4 py-2 rounded-xl bg-accent text-white text-xs font-semibold hover:bg-accent/90">
                      下一步<i class="fas fa-arrow-right ml-1"></i>
                    </button>
                  </div>
                </div>

                <div id="shein-step-3-panel" class="hidden space-y-3">
                  <div class="flex items-center justify-between gap-3">
                    <div>
                      <div class="text-sm font-bold text-slate-800 flex items-center gap-2">
                        <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-accent/10 text-accent text-[11px] font-black">3</span>
                        上传图片
                      </div>
                      <div class="text-xs text-slate-400 mt-1">根据类型上传细节/方形/色块/详情图。</div>
                    </div>
                  </div>
                  <div class="rounded-2xl border border-slate-100 bg-slate-50/60 p-3 text-[11px] text-slate-500 space-y-1">
                    <div>格式 JPG/JPEG/PNG，大小小于 3MB。</div>
                    <div>细节图：最多 11 张，比例 1:1 / 3:4 / 4:5 / 13:16，像素 900-2200，必须至少 1 张。</div>
                    <div>方形图：比例 1:1，像素 900-2200，必须至少 1 张。</div>
                    <div>色块图：可选，80px × 80px。</div>
                    <div>详情图：比例 3:4，像素大于 900px 最佳展示效果，最多 10 张。</div>
                    <div>图片与主规格一一对应，请在对应的主规格卡片中上传。</div>
                  </div>
                  <div id="shein-image-preview" class="space-y-4"></div>
                  <div id="shein-supply-block" class="rounded-2xl border border-slate-100 bg-white p-4 space-y-3">
                    <div class="flex items-center gap-2 text-sm font-semibold text-slate-800">
                      <i class="fas fa-boxes-stacked text-slate-500"></i>
                      <span>供应信息</span>
                    </div>
                    <div id="shein-supply-table" class="overflow-x-auto"></div>
                    <div id="shein-supply-msg" class="hidden text-[11px] text-rose-500"></div>
                  </div>
                  <div class="flex items-center justify-between">
                    <button id="shein-step-back-3" type="button" class="px-4 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50">
                      <i class="fas fa-arrow-left mr-1"></i>上一步
                    </button>
                    <button id="shein-step-next-3" type="button" class="px-4 py-2 rounded-xl bg-accent text-white text-xs font-semibold hover:bg-accent/90">
                      下一步<i class="fas fa-arrow-right ml-1"></i>
                    </button>
                  </div>
                </div>

                <div id="shein-step-4-panel" class="hidden space-y-3">
                  <div class="flex items-center justify-between gap-3">
                    <div>
                      <div class="text-sm font-bold text-slate-800 flex items-center gap-2">
                        <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-accent/10 text-accent text-[11px] font-black">4</span>
                        商品描述
                      </div>
                      <div class="text-xs text-slate-400 mt-1">填写商品名称、货号、描述信息，作为上架与检索的基础内容。</div>
                    </div>
                  </div>
                  <div class="bg-slate-50/70 border border-slate-100 rounded-2xl p-4 space-y-4">
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                      <div class="space-y-2">
                        <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                          商品名称
                          <span class="text-[10px] text-rose-600 bg-rose-50 border border-rose-100 px-2 py-0.5 rounded-full font-black">必填</span>
                        </div>
                        <input
                          id="shein-goods-name"
                          class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white"
                          placeholder="请输入商品名称"
                        />
                      </div>
                      <div class="space-y-2">
                        <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                          商品货号
                          <span class="text-[10px] text-rose-600 bg-rose-50 border border-rose-100 px-2 py-0.5 rounded-full font-black">必填</span>
                        </div>
                        <input
                          id="shein-goods-sn"
                          class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white"
                          placeholder="请输入商品货号"
                        />
                      </div>
                    </div>
                    <div class="space-y-2">
                      <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                        商品描述
                        <span class="text-[10px] text-rose-600 bg-rose-50 border border-rose-100 px-2 py-0.5 rounded-full font-black">必填</span>
                      </div>
                      <textarea
                        id="shein-goods-brief"
                        class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white"
                        rows="2"
                        placeholder="请输入商品描述"
                      ></textarea>
                    </div>
                    <div class="space-y-2">
                      <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                        阿里商家货号
                        <span class="text-[10px] text-slate-500 bg-slate-100 border border-slate-200 px-2 py-0.5 rounded-full font-black">选填</span>
                      </div>
                      <input
                        id="shein-ali-seller-sn"
                        class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white"
                        placeholder="可选：阿里商家货号"
                      />
                    </div>
                  </div>

                  <div class="bg-slate-50/70 border border-slate-100 rounded-2xl p-4 space-y-4">
                    <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                      供应信息
                      <span class="text-[10px] text-rose-600 bg-rose-50 border border-rose-100 px-2 py-0.5 rounded-full font-black">必填</span>
                      <span class="text-[11px] text-slate-400">（请根据实际情况填写属性，完整的属性信息有助于用户选购及履约，提升商品流量及转化，规避发货风险。）</span>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                      <div class="space-y-2">
                        <div class="text-xs font-semibold text-slate-700">重量(含包装) <span class="text-rose-600">*</span></div>
                        <input
                          id="shein-goods-weight"
                          type="number"
                          min="0"
                          class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white"
                          placeholder="单位 g"
                        />
                      </div>
                      <div class="space-y-2">
                        <div class="text-xs font-semibold text-slate-700">长(最长边) <span class="text-rose-600">*</span></div>
                        <input
                          id="shein-length"
                          type="number"
                          min="0"
                          class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white"
                          placeholder="单位 cm"
                        />
                      </div>
                      <div class="space-y-2">
                        <div class="text-xs font-semibold text-slate-700">宽(次长边) <span class="text-rose-600">*</span></div>
                        <input
                          id="shein-wide"
                          type="number"
                          min="0"
                          class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white"
                          placeholder="单位 cm"
                        />
                      </div>
                      <div class="space-y-2">
                        <div class="text-xs font-semibold text-slate-700">高(最短边) <span class="text-rose-600">*</span></div>
                        <input
                          id="shein-high"
                          type="number"
                          min="0"
                          class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white"
                          placeholder="单位 cm"
                        />
                      </div>
                    </div>
                  </div>

                  <textarea id="shein-product-sn" class="hidden" rows="1"></textarea>
                  <textarea id="shein-product-number" class="hidden" rows="1"></textarea>
                  <textarea id="shein-product-price" class="hidden" rows="1"></textarea>
                  <textarea id="shein-album-images" class="hidden" rows="1"></textarea>
                  <textarea id="shein-square-images" class="hidden" rows="1"></textarea>
                  <textarea id="shein-color-block-images" class="hidden" rows="1"></textarea>
                  <textarea id="shein-detail-images" class="hidden" rows="1"></textarea>
                  <textarea id="shein-others" class="hidden" rows="1"></textarea>
                  <textarea id="shein-goods-attr" class="hidden" rows="1"></textarea>
                  <textarea id="shein-spec-defines" class="hidden" rows="1"></textarea>

                  <div class="flex items-center justify-between">
                    <button id="shein-step-back-4" type="button" class="px-4 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50">
                      <i class="fas fa-arrow-left mr-1"></i>上一步
                    </button>
                    <button id="shein-create" type="button" class="px-4 py-2 rounded-xl bg-accent text-white text-xs font-semibold hover:bg-accent/90">
                      <i class="fas fa-paper-plane mr-1"></i>提交
                    </button>
                  </div>
                  <pre id="shein-create-result" class="text-[11px] bg-slate-50 border border-slate-100 rounded-xl p-3 overflow-auto max-h-48 whitespace-pre-wrap"></pre>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section id="view-upload-tiktok" class="space-y-6 hidden">
          <div id="tiktok-list-wrap" class="bg-white rounded-2xl shadow-soft border border-slate-100 overflow-hidden">
            <div class="px-6 py-4 border-b border-slate-50 flex flex-col sm:flex-row sm:items-center justify-between gap-3">
              <div class="min-w-0">
                <h2 class="text-base font-bold text-slate-800">TikTok 商品列表</h2>
              </div>
              <div class="flex items-center gap-2">
                <input
                  id="tiktok-goods-keywords"
                  class="px-3 py-2 rounded-lg border border-slate-200 text-xs"
                  placeholder="关键字 keywords(可选)"
                />
                <button
                  id="tiktok-goods-refresh"
                  type="button"
                  class="px-3 py-2 rounded-lg bg-accent text-white text-xs font-semibold hover:bg-accent/90 shadow-md shadow-accent/20"
                >
                  <i class="fas fa-magnifying-glass mr-1"></i>搜索
                </button>
                <button
                  id="tiktok-go-upload"
                  type="button"
                  class="px-3 py-2 rounded-lg bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800 shadow-md shadow-slate-900/10"
                  title="前往 TikTok 商品上传"
                >
                  <i class="fas fa-cloud-arrow-up mr-1"></i>商品上传
                </button>
              </div>
            </div>
            <div class="overflow-x-auto">
              <table class="w-full text-left border-collapse">
                <thead>
                  <tr class="text-xs text-slate-400 border-b border-slate-100 bg-slate-50/50">
                    <th class="px-6 py-3 font-semibold">商品ID</th>
                    <th class="px-6 py-3 font-semibold">商品信息</th>
                    <th class="px-6 py-3 font-semibold">SKU</th>
                    <th class="px-6 py-3 font-semibold whitespace-nowrap">在售状态</th>
                    <th class="px-6 py-3 font-semibold whitespace-nowrap">审核状态</th>
                    <th class="px-6 py-3 font-semibold whitespace-nowrap text-right">售价</th>
                    <th class="px-6 py-3 font-semibold">录入时间</th>
                    <th class="px-6 py-3 font-semibold text-right">操作</th>
                  </tr>
                </thead>
                <tbody id="tiktok-goods-tbody" class="text-sm text-slate-600">
                  <tr class="table-row-hover transition">
                    <td class="px-6 py-6 text-center text-xs text-slate-400" colspan="8">
                      <i class="fas fa-circle-notch fa-spin mr-2"></i>加载中...
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="px-6 py-4 border-t border-slate-50 flex flex-col sm:flex-row sm:items-center justify-between gap-3">
              <span id="tiktok-goods-summary" class="text-xs text-slate-400">-</span>
              <div class="flex items-center gap-3 justify-end">
                <button
                  id="tiktok-goods-prev"
                  type="button"
                  class="px-3 py-2 rounded-lg border border-slate-200 text-slate-700 text-xs font-medium hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  上一页
                </button>
                <div id="tiktok-goods-page" class="text-xs text-slate-500">-</div>
                <div class="flex items-center gap-2">
                  <input
                    id="tiktok-goods-page-input"
                    type="number"
                    min="1"
                    step="1"
                    class="w-[90px] px-3 py-2 rounded-lg border border-slate-200 text-xs bg-white"
                    placeholder="页码"
                  />
                  <button
                    id="tiktok-goods-page-go"
                    type="button"
                    class="px-3 py-2 rounded-lg border border-slate-200 text-slate-700 text-xs font-medium hover:bg-slate-50"
                  >
                    跳转
                  </button>
                </div>
                <button
                  id="tiktok-goods-next"
                  type="button"
                  class="px-3 py-2 rounded-lg border border-slate-200 text-slate-700 text-xs font-medium hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  下一页
                </button>
                <div class="flex items-center gap-2 pl-2 border-l border-slate-100">
                  <span class="text-xs text-slate-400 whitespace-nowrap">每页</span>
                  <input
                    id="tiktok-goods-size"
                    type="number"
                    min="1"
                    step="1"
                    value="15"
                    class="w-[100px] px-3 py-2 rounded-lg border border-slate-200 text-xs bg-white"
                    placeholder="条数"
                  />
                </div>
              </div>
            </div>
          </div>

          <!-- TikTok upload -->
          <div id="tiktok-upload-wrap" class="hidden bg-white rounded-2xl shadow-soft border border-slate-100 p-6 space-y-4">
            <div class="flex items-center justify-between gap-3">
              <div class="flex items-center gap-2 min-w-0">
                <div class="min-w-0">
                  <h2 class="text-base font-black text-slate-900 truncate">TikTok &#x5546;&#x54C1;&#x4E0A;&#x4F20;</h2>
                  <div id="tiktok-upload-mode-hint" class="text-xs text-slate-400 mt-0.5">&#x6309;&#x6B65;&#x9AA4;&#x586B;&#x5199;&#xFF1A;&#x7C7B;&#x76EE; &#x2192; &#x6A21;&#x677F;&#x5C5E;&#x6027; &#x2192; &#x4E0A;&#x4F20;&#x56FE;&#x7247; &#x2192; &#x5546;&#x54C1;&#x63CF;&#x8FF0; &#x2192; &#x65B0;&#x589E;&#x5546;&#x54C1;</div>
                </div>
              </div>
              <div class="flex items-center gap-2">
                <button
                  id="tiktok-back-to-list"
                  type="button"
                  class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50"
                >
                  <i class="fas fa-arrow-left mr-1"></i>&#x8FD4;&#x56DE;&#x5217;&#x8868;
                </button>
                <button
                  id="tiktok-reset"
                  type="button"
                  class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50"
                >
                  <i class="fas fa-rotate-left mr-1"></i>&#x91CD;&#x7F6E;
                </button>
              </div>
            </div>

            <!-- Step guide (match TEMU style) -->
            <div class="bg-slate-50/60 border border-slate-100 rounded-2xl p-4">
              <div class="text-xs font-bold text-slate-600 flex items-center gap-2 mb-3">
                <i class="fas fa-route text-[12px] text-slate-500"></i>
                <span>&#x6B65;&#x9AA4;&#x5BFC;&#x822A;</span>
                <span class="text-[11px] text-slate-400 font-medium">&#x5B8C;&#x6210;&#x540E;&#x5373;&#x53EF;&#x63D0;&#x4EA4;</span>
              </div>
              <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-2">
                <button id="tiktok-step-1-btn" type="button" class="text-left px-3 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 transition">
                  <div class="flex items-center gap-3">
                    <span id="tiktok-step-1-dot" class="w-7 h-7 rounded-full bg-accent/10 text-accent flex items-center justify-center text-xs font-black">1</span>
                    <div class="min-w-0">
                      <div class="text-sm font-semibold text-slate-800">&#x9009;&#x62E9;&#x7C7B;&#x76EE;</div>
                      <div id="tiktok-step-1-hint" class="text-[11px] text-slate-400 truncate">&#x672B;&#x7EA7;&#x7C7B;&#x76EE;</div>
                    </div>
                    <i id="tiktok-step-1-check" class="fas fa-check-circle text-emerald-600 hidden"></i>
                  </div>
                </button>
                <button id="tiktok-step-2-btn" type="button" class="text-left px-3 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 transition">
                  <div class="flex items-center gap-3">
                    <span id="tiktok-step-2-dot" class="w-7 h-7 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center text-xs font-black">2</span>
                    <div class="min-w-0">
                      <div class="text-sm font-semibold text-slate-800">&#x83B7;&#x53D6;&#x6A21;&#x677F;</div>
                      <div id="tiktok-step-2-hint" class="text-[11px] text-slate-400 truncate">&#x5C5E;&#x6027;&#x6A21;&#x677F;&#x4E0E;&#x6620;&#x5C04;</div>
                    </div>
                    <i id="tiktok-step-2-check" class="fas fa-check-circle text-emerald-600 hidden"></i>
                  </div>
                </button>
                <button id="tiktok-step-3-btn" type="button" class="text-left px-3 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 transition">
                  <div class="flex items-center gap-3">
                    <span id="tiktok-step-3-dot" class="w-7 h-7 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center text-xs font-black">3</span>
                    <div class="min-w-0">
                      <div class="text-sm font-semibold text-slate-800">&#x4E0A;&#x4F20;&#x56FE;&#x7247;</div>
                      <div id="tiktok-step-3-hint" class="text-[11px] text-slate-400 truncate">&#x4E3B;&#x56FE;/&#x8BE6;&#x60C5;&#x56FE;</div>
                    </div>
                    <i id="tiktok-step-3-check" class="fas fa-check-circle text-emerald-600 hidden"></i>
                  </div>
                </button>
                <button id="tiktok-step-4-btn" type="button" class="text-left px-3 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 transition">
                  <div class="flex items-center gap-3">
                    <span id="tiktok-step-4-dot" class="w-7 h-7 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center text-xs font-black">4</span>
                    <div class="min-w-0">
                      <div class="text-sm font-semibold text-slate-800">&#x5546;&#x54C1;&#x63CF;&#x8FF0;</div>
                      <div id="tiktok-step-4-hint" class="text-[11px] text-slate-400 truncate">&#x6807;&#x9898;/&#x8BE6;&#x60C5;&#x63CF;&#x8FF0;</div>
                    </div>
                    <i id="tiktok-step-4-check" class="fas fa-check-circle text-emerald-600 hidden"></i>
                  </div>
                </button>
                <button id="tiktok-step-5-btn" type="button" class="text-left px-3 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 transition">
                  <div class="flex items-center gap-3">
                    <span id="tiktok-step-5-dot" class="w-7 h-7 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center text-xs font-black">5</span>
                    <div class="min-w-0">
                      <div id="tiktok-step-5-title" class="text-sm font-semibold text-slate-800">&#x65B0;&#x589E;&#x5546;&#x54C1;</div>
                      <div id="tiktok-step-5-hint" class="text-[11px] text-slate-400 truncate">&#x586B;&#x5199;&#x5B57;&#x6BB5;&#x5E76;&#x63D0;&#x4EA4;</div>
                    </div>
                    <i id="tiktok-step-5-check" class="fas fa-check-circle text-emerald-600 hidden"></i>
                  </div>
                </button>
              </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
              <div id="tiktok-cat-block" class="space-y-2">
                <div class="flex items-center gap-2 text-xs font-bold text-slate-600">
                  <span class="w-6 h-6 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center text-[10px] font-black">1</span>
                  <span>&#x9009;&#x62E9;&#x7C7B;&#x76EE;</span>
                </div>
                <div id="tiktok-cat-select" class="space-y-2"></div>
                <div class="text-xs text-slate-400">
                  &#x5DF2;&#x9009;&#xFF1A;<span id="tiktok-cat-id-text" class="font-semibold text-slate-700">-</span>
                  <span id="tiktok-cat-id" class="hidden">-</span>
                </div>
              </div>
              <div id="tiktok-template-block" class="space-y-3">
                <div class="flex items-center justify-between gap-3">
                  <div>
                    <div class="text-sm font-bold text-slate-800 flex items-center gap-2">
                      <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-accent/10 text-accent text-[11px] font-black">2</span>
                      &#x83B7;&#x53D6;&#x5C5E;&#x6027;&#x6A21;&#x677F;
                    </div>
                    <div class="text-xs text-slate-400 mt-1">&#x6839;&#x636E;&#x7C7B;&#x76EE;&#x83B7;&#x53D6;&#x6A21;&#x677F;&#xFF0C;&#x4FBF;&#x4E8E;&#x8865;&#x5168;&#x5546;&#x54C1;&#x4FE1;&#x606F;&#x3002;</div>
                  </div>
                  <div class="flex items-center gap-2">
                    <button
                      id="tiktok-template-clear"
                      type="button"
                      class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50"
                    >
                      <i class="fas fa-trash mr-1"></i>&#x6E05;&#x7A7A;&#x9009;&#x62E9;
                    </button>
                    <button
                      id="tiktok-fetch-template"
                      type="button"
                      class="px-3 py-2 rounded-xl bg-accent text-white text-xs font-semibold hover:bg-accent/90 shadow-md shadow-accent/20"
                    >
                      <i class="fas fa-wand-magic-sparkles mr-1"></i>&#x91CD;&#x65B0;&#x83B7;&#x53D6;&#x6A21;&#x677F;
                    </button>
                  </div>
                </div>
                <div id="tiktok-template-form-msg" class="hidden text-xs bg-slate-50 border border-slate-200 text-slate-600 px-3 py-2 rounded-xl"></div>
                <div id="tiktok-attr-summary" class="text-[11px] text-slate-400"></div>
                <div id="tiktok-brand-block" class="hidden">
                  <div
                    id="tiktok-brand-card"
                    class="relative overflow-hidden rounded-3xl border-2 border-accent/20 bg-accent/5 p-5 pl-6 hover:border-accent/30 transition-colors"
                  >
                    <button id="tiktok-brand-trigger" type="button" class="w-full text-left">
                      <div class="absolute left-2 top-4 bottom-4 w-1 rounded-full bg-rose-500"></div>
                      <div class="pl-2 space-y-2">
                        <div class="flex items-start gap-2 text-base font-black text-slate-900">
                          <i class="fas fa-certificate text-slate-600 mt-0.5"></i>
                          <span>&#x54C1;&#x724C;&#x9009;&#x62E9;</span>
                        </div>
                        <div class="text-[11px] text-slate-400 flex items-center gap-2">
                          <i class="fas fa-circle-info"></i>
                          <span>&#x70B9;&#x51FB;&#x5361;&#x7247;&#x9009;&#x62E9;&#x54C1;&#x724C;&#xFF0C;&#x53EF;&#x81EA;&#x5B9A;&#x4E49;&#x54C1;&#x724C;&#x540D;&#x79F0;</span>
                        </div>
                        <div class="flex items-center justify-between gap-3">
                          <span id="tiktok-brand-trigger-label" class="text-sm text-slate-700">&#x672A;&#x9009;&#x62E9;&#xFF0C;&#x70B9;&#x51FB;&#x5361;&#x7247;</span>
                          <div class="flex items-center gap-2">
                            <span class="text-[10px] px-2 py-0.5 rounded-full bg-rose-100 text-rose-700 font-black">&#x5FC5;&#x586B;</span>
                            <span
                              id="tiktok-brand-selected-chip"
                              class="hidden text-[10px] px-2 py-0.5 rounded-full bg-white border border-rose-200 text-rose-600 font-black"
                              >&#x5DF2;&#x9009;</span
                            >
                            <span
                              id="tiktok-brand-status"
                              class="text-[11px] px-3 py-1 rounded-full border font-black text-slate-700 bg-white border-slate-200"
                              >&#x672A;&#x586B;&#x5199;</span
                            >
                            <i class="fas fa-chevron-right text-slate-400"></i>
                          </div>
                        </div>
                      </div>
                    </button>
                  </div>
                  <input id="tiktok-brand-id" type="hidden" value="" />
                </div>
                <div
                  id="tiktok-brand-dropdown"
                  class="fixed inset-0 z-[70] hidden items-center justify-center bg-slate-900/40 px-4 py-6"
                >
                  <div class="relative w-full max-w-3xl bg-white rounded-3xl shadow-xl border border-slate-200 overflow-hidden">
                    <div class="px-5 py-4 border-b border-slate-100 flex items-center justify-between gap-3">
                      <div class="min-w-0">
                        <div class="text-sm font-black text-slate-900">&#x54C1;&#x724C;&#x9009;&#x62E9;</div>
                        <div class="text-[11px] text-slate-400 mt-0.5">
                          &#x70B9;&#x51FB;&#x4E0B;&#x9762;&#x7684;&#x54C1;&#x724C;&#x5361;&#x7247;&#x5B8C;&#x6210;&#x9009;&#x62E9;&#xFF0C;&#x652F;&#x6301;&#x81EA;&#x5B9A;&#x4E49;&#x54C1;&#x724C;&#x3002;
                        </div>
                      </div>
                      <div class="flex items-center gap-2">
                        <span id="tiktok-brand-selected-hint" class="hidden text-[11px] text-slate-400">&#x5DF2;&#x9009; 0</span>
                        <button
                          id="tiktok-brand-clear"
                          type="button"
                          class="px-2 py-1 rounded-lg bg-white border border-slate-200 text-[11px] text-slate-600 hover:bg-slate-50"
                        >
                          &#x6E05;&#x7A7A;
                        </button>
                        <button
                          id="tiktok-brand-close"
                          type="button"
                          class="px-2 py-1 rounded-lg bg-slate-900 text-[11px] text-white hover:bg-slate-800"
                        >
                          &#x5173;&#x95ED;
                        </button>
                      </div>
                    </div>
                    <div class="p-5 space-y-3 max-h-[70vh] overflow-y-auto">
                      <div class="grid grid-cols-1 sm:grid-cols-[1fr,auto] gap-2">
                        <input
                          id="tiktok-brand-search-name"
                          class="px-3 py-2 rounded-lg border border-slate-200 text-xs bg-white"
                          placeholder="&#x8F93;&#x5165;&#x54C1;&#x724C;&#x540D;&#x7B5B;&#x9009;/&#x641C;&#x7D22;"
                        />
                        <button
                          id="tiktok-brand-search"
                          type="button"
                          class="px-3 py-2 rounded-lg bg-white border border-slate-200 text-xs font-semibold text-slate-700 hover:bg-slate-50"
                        >
                          <i class="fas fa-magnifying-glass mr-1"></i>&#x641C;&#x7D22;
                        </button>
                      </div>
                      <select
                        id="tiktok-brand-results"
                        class="w-full px-3 py-2 rounded-lg border border-slate-200 text-xs bg-white"
                      >
                        <option value="">&#x9009;&#x62E9;&#x54C1;&#x724C;(&#x6A21;&#x677F;&#x8FD4;&#x56DE;)</option>
                      </select>
                      <div class="flex items-center justify-between gap-2">
                        <div class="text-[11px] text-slate-400">&#x6A21;&#x677F;&#x8FD4;&#x56DE;/&#x641C;&#x7D22;&#x7ED3;&#x679C;</div>
                        <button
                          id="tiktok-brand-reset"
                          type="button"
                          class="px-2 py-1 rounded-lg bg-white border border-slate-200 text-[11px] text-slate-600 hover:bg-slate-50"
                        >
                          &#x91CD;&#x7F6E;&#x54C1;&#x724C;
                        </button>
                      </div>
                      <div id="tiktok-brand-list" class="grid grid-cols-1 sm:grid-cols-2 gap-2"></div>
                      <div id="tiktok-brand-summary" class="text-[11px] text-slate-400"></div>
                      <div class="rounded-xl border border-slate-100 bg-slate-50 p-3 space-y-2">
                        <div class="flex items-center justify-between gap-2">
                          <div class="text-xs font-semibold text-slate-600">&#x81EA;&#x5B9A;&#x4E49;&#x54C1;&#x724C;</div>
                          <button
                            id="tiktok-brand-create-toggle"
                            type="button"
                            class="px-2.5 py-1 rounded-lg bg-white border border-slate-200 text-[11px] text-slate-600 hover:bg-slate-50"
                          >
                            <i class="fas fa-plus mr-1"></i>&#x65B0;&#x589E;
                          </button>
                        </div>
                        <div id="tiktok-brand-create-panel" class="hidden space-y-2">
                          <input
                            id="tiktok-brand-create-name"
                            class="w-full px-3 py-2 rounded-lg border border-slate-200 text-xs bg-white"
                            placeholder="&#x8F93;&#x5165;&#x65B0;&#x54C1;&#x724C;&#x540D;&#x79F0;"
                          />
                          <div class="flex items-center gap-2">
                            <button
                              id="tiktok-brand-create"
                              type="button"
                              class="px-3 py-2 rounded-lg bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800"
                            >
                              &#x521B;&#x5EFA;
                            </button>
                            <button
                              id="tiktok-brand-create-cancel"
                              type="button"
                              class="px-3 py-2 rounded-lg bg-white border border-slate-200 text-xs font-semibold text-slate-600 hover:bg-slate-50"
                            >
                              &#x53D6;&#x6D88;
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div id="tiktok-template-form" class="grid grid-cols-1 lg:grid-cols-2 gap-6"></div>
                <pre
                  id="tiktok-template"
                  class="hidden"
                ></pre>
              </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
              <div class="space-y-2">
                <div class="flex items-center gap-2 text-xs font-bold text-slate-600">
                  <span class="w-6 h-6 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center text-[10px] font-black">3</span>
                  <span>&#x4E0A;&#x4F20;&#x56FE;&#x7247;</span>
                </div>
                <div class="flex flex-col gap-2">
                  <div class="flex flex-col sm:flex-row gap-2 items-start sm:items-center">
                    <button
                      id="tiktok-upload-goods"
                      type="button"
                      class="px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800 w-fit whitespace-nowrap shadow-md shadow-slate-900/10"
                    >
                      <i class="fas fa-image mr-1"></i>&#x4E0A;&#x4F20;&#x5546;&#x54C1;&#x76F8;&#x518C;&#x56FE;
                    </button>
                    <span class="text-[11px] text-slate-400">&#x6700;&#x591A;&#x53EF;&#x4F20;9&#x5F20;&#xFF0C;&#x9996;&#x5F20;&#x9ED8;&#x8BA4;&#x4E3B;&#x56FE;</span>
                  </div>
                  <input id="tiktok-file" type="file" accept="image/*" class="hidden" />
                </div>
                <pre
                  id="tiktok-upload-result"
                  class="hidden"
                ></pre>
                <div id="tiktok-image-preview" class="bg-white border border-slate-100 rounded-2xl p-4">
                  <div class="text-[11px] text-slate-400">&#x6682;&#x65E0;&#x56FE;&#x7247;&#xFF08;&#x4E0A;&#x4F20;&#x540E;&#x4F1A;&#x81EA;&#x52A8;&#x51FA;&#x73B0;&#x9884;&#x89C8;&#xFF09;</div>
                </div>
                <div id="tiktok-certifications-block" class="space-y-3"></div>
                <input id="tiktok-cert-file" type="file" accept="application/pdf,.pdf" class="hidden" />
              </div>

              <div class="space-y-2">
                <div id="tiktok-desc-block" class="space-y-2">
                  <div class="flex items-center gap-2 text-xs font-bold text-slate-600">
                    <span class="w-6 h-6 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center text-[10px] font-black">4</span>
                    <span>&#x5546;&#x54C1;&#x63CF;&#x8FF0;</span>
                  </div>
                  <div class="bg-slate-50/70 border border-slate-100 rounded-2xl p-4 space-y-4">
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                      <div class="space-y-2">
                        <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                          &#x5546;&#x54C1;&#x540D;&#x79F0;
                          <span class="text-[10px] text-rose-600 bg-rose-50 border border-rose-100 px-2 py-0.5 rounded-full font-black">&#x5FC5;&#x586B;</span>
                        </div>
                        <input
                          id="tiktok-goods-name"
                          class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white"
                          placeholder="&#x8BF7;&#x8F93;&#x5165;&#x5546;&#x54C1;&#x540D;&#x79F0;"
                        />
                      </div>
                      <div class="space-y-2">
                        <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                          &#x5546;&#x54C1;&#x8D27;&#x53F7;
                          <span class="text-[10px] text-rose-600 bg-rose-50 border border-rose-100 px-2 py-0.5 rounded-full font-black">&#x5FC5;&#x586B;</span>
                        </div>
                        <input
                          id="tiktok-goods-sn"
                          class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white"
                          placeholder="&#x8BF7;&#x8F93;&#x5165;&#x5546;&#x54C1;&#x8D27;&#x53F7;"
                        />
                      </div>
                    </div>
                    <div class="space-y-2">
                      <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                        &#x5546;&#x54C1;&#x63CF;&#x8FF0;
                        <span class="text-[10px] text-rose-600 bg-rose-50 border border-rose-100 px-2 py-0.5 rounded-full font-black">&#x5FC5;&#x586B;</span>
                      </div>
                      <textarea
                        id="tiktok-goods-brief"
                        class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white"
                        rows="2"
                        placeholder="&#x8BF7;&#x8F93;&#x5165;&#x5546;&#x54C1;&#x63CF;&#x8FF0;"
                      ></textarea>
                    </div>
                    <div class="space-y-2">
                      <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                        &#x5546;&#x54C1;&#x8BE6;&#x60C5;
                        <span class="text-[10px] text-rose-600 bg-rose-50 border border-rose-100 px-2 py-0.5 rounded-full font-black">&#x5FC5;&#x586B;</span>
                      </div>
                      <div class="bg-white border border-slate-200 rounded-xl p-3 space-y-2">
                        <div id="tiktok-goods-desc-toolbar" class="flex flex-wrap gap-2 text-[11px]">
                          <button type="button" class="px-2.5 py-1 rounded-lg border border-slate-200 bg-white hover:bg-slate-50 font-semibold" data-rt-cmd="bold">Bold</button>
                          <button type="button" class="px-2.5 py-1 rounded-lg border border-slate-200 bg-white hover:bg-slate-50 font-semibold" data-rt-cmd="italic">Italic</button>
                          <button type="button" class="px-2.5 py-1 rounded-lg border border-slate-200 bg-white hover:bg-slate-50 font-semibold" data-rt-cmd="underline">Underline</button>
                          <button type="button" class="px-2.5 py-1 rounded-lg border border-slate-200 bg-white hover:bg-slate-50 font-semibold" data-rt-cmd="insertUnorderedList">UL</button>
                          <button type="button" class="px-2.5 py-1 rounded-lg border border-slate-200 bg-white hover:bg-slate-50 font-semibold" data-rt-cmd="insertOrderedList">OL</button>
                          <button type="button" class="px-2.5 py-1 rounded-lg border border-slate-200 bg-white hover:bg-slate-50 font-semibold" data-rt-cmd="createLink">Link</button>
                          <button type="button" class="px-2.5 py-1 rounded-lg border border-slate-200 bg-white hover:bg-slate-50 font-semibold" data-rt-cmd="removeFormat">&#x6E05;&#x9664;&#x683C;&#x5F0F;</button>
                        </div>
                        <div
                          id="tiktok-goods-desc-editor"
                          class="min-h-[120px] w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white"
                          contenteditable="true"
                        ></div>
                        <div class="text-[11px] text-slate-400">&#x4E0D;&#x652F;&#x6301;&#x4E0A;&#x4F20;&#x56FE;&#x7247;</div>
                        <textarea id="tiktok-goods-desc" class="hidden"></textarea>
                      </div>
                    </div>
                    <div class="space-y-2">
                      <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                        weight / unit*
                        <span class="text-[10px] text-rose-600 bg-rose-50 border border-rose-100 px-2 py-0.5 rounded-full font-black">&#x5FC5;&#x586B;</span>
                      </div>
                      <div class="flex items-center gap-2">
                        <select
                          id="tiktok-package-weight-unit"
                          class="px-3 py-2 rounded-lg border border-slate-200 text-xs bg-white"
                        >
                          <option value="GRAM">GRAM</option>
                          <option value="KILOGRAM">KILOGRAM</option>
                        </select>
                        <input
                          id="tiktok-package-weight"
                          type="number"
                          min="0"
                          class="flex-1 px-3 py-2 rounded-lg border border-slate-200 text-xs bg-white"
                          placeholder="weight"
                        />
                      </div>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                      <div class="space-y-2">
                        <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                          wide (cm)
                          <span class="text-[10px] text-rose-600 bg-rose-50 border border-rose-100 px-2 py-0.5 rounded-full font-black">&#x5FC5;&#x586B;</span>
                        </div>
                        <input
                          id="tiktok-package-width"
                          type="number"
                          min="0"
                          class="w-full px-3 py-2 rounded-lg border border-slate-200 text-xs bg-white"
                          placeholder="wide"
                        />
                      </div>
                      <div class="space-y-2">
                        <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                          high (cm)
                          <span class="text-[10px] text-rose-600 bg-rose-50 border border-rose-100 px-2 py-0.5 rounded-full font-black">&#x5FC5;&#x586B;</span>
                        </div>
                        <input
                          id="tiktok-package-height"
                          type="number"
                          min="0"
                          class="w-full px-3 py-2 rounded-lg border border-slate-200 text-xs bg-white"
                          placeholder="high"
                        />
                      </div>
                      <div class="space-y-2">
                        <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                          length (cm)
                          <span class="text-[10px] text-rose-600 bg-rose-50 border border-rose-100 px-2 py-0.5 rounded-full font-black">&#x5FC5;&#x586B;</span>
                        </div>
                        <input
                          id="tiktok-package-length"
                          type="number"
                          min="0"
                          class="w-full px-3 py-2 rounded-lg border border-slate-200 text-xs bg-white"
                          placeholder="length"
                        />
                      </div>
                    </div>
                    <div class="space-y-2">
                      <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                        &#x963F;&#x91CC;&#x5546;&#x5BB6;&#x8D27;&#x53F7;
                        <span class="text-[10px] text-slate-500 bg-slate-100 border border-slate-200 px-2 py-0.5 rounded-full font-black">&#x9009;&#x586B;</span>
                      </div>
                      <input
                        id="tiktok-ali-seller-sn"
                        class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white"
                        placeholder="&#x53EF;&#x9009;&#xFF1A;&#x963F;&#x91CC;&#x5546;&#x5BB6;&#x8D27;&#x53F7;"
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div id="tiktok-submit-block" class="space-y-2">
              <div class="flex items-center gap-2 text-xs font-bold text-slate-600">
                <span class="w-6 h-6 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center text-[10px] font-black">5</span>
                <span>&#x65B0;&#x589E;&#x5546;&#x54C1;</span>
              </div>
              <div class="bg-slate-50/70 border border-slate-100 rounded-2xl p-4 space-y-3">
                <div class="flex items-center justify-between gap-3">
                  <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                    &#x9500;&#x552E;&#x5C5E;&#x6027;&#x5F00;&#x5173;
                    <span class="text-[10px] text-slate-500 bg-slate-100 border border-slate-200 px-2 py-0.5 rounded-full font-black">&#x53EF;&#x9009;</span>
                  </div>
                  <label class="flex items-center gap-2 text-xs text-slate-500">
                    <input id="tiktok-sales-mode-toggle" type="checkbox" class="sr-only peer" checked />
                    <div class="w-10 h-5 rounded-full bg-slate-200 peer-checked:bg-emerald-500 relative transition">
                      <span class="absolute top-0.5 left-0.5 w-4 h-4 rounded-full bg-white shadow transition peer-checked:translate-x-5"></span>
                    </div>
                    <span id="tiktok-sales-mode-label">&#x5DF2;&#x5F00;&#x542F;</span>
                  </label>
                </div>
                <div id="tiktok-price-stock-card" class="hidden bg-white border border-slate-100 rounded-2xl p-4 cursor-pointer hover:border-accent/40 hover:bg-slate-50 transition">
                  <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                    Price &amp; Stock<span class="text-rose-500">*</span>
                  </div>
                  <div class="text-[11px] text-slate-400 mt-1">&#x5173;&#x95ED;&#x9500;&#x552E;&#x5C5E;&#x6027;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;&#x7EDF;&#x4E00;&#x4EF7;&#x683C;&#x4E0E;&#x5E93;&#x5B58;&#x3002;</div>
                </div>
                <div id="tiktok-sales-attr-name-block" class="space-y-3">
                  <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                    &#x9500;&#x552E;&#x5C5E;&#x6027;&#x540D;&#x79F0;&#xFF08;&#x6700;&#x591A;&#x9009; 3 &#x4E2A;&#xFF09;
                    <span class="text-[10px] text-slate-500 bg-slate-100 border border-slate-200 px-2 py-0.5 rounded-full font-black">&#x53EF;&#x9009;</span>
                  </div>
                  <div id="tiktok-sales-attr-names" class="flex flex-wrap gap-2"></div>
                  <div class="flex flex-col sm:flex-row gap-2 items-start sm:items-center">
                    <input
                      id="tiktok-sales-attr-custom"
                      class="flex-1 min-w-[180px] px-3 py-2 rounded-lg border border-slate-200 text-xs bg-white"
                      placeholder="&#x81EA;&#x5B9A;&#x4E49;&#x9500;&#x552E;&#x5C5E;&#x6027;&#x540D;&#x79F0;"
                    />
                    <button
                      id="tiktok-sales-attr-custom-add"
                      type="button"
                      class="px-3 py-2 rounded-lg bg-white border border-slate-200 text-xs font-semibold text-slate-700 hover:bg-slate-50"
                    >
                      <i class="fas fa-plus mr-1"></i>&#x6DFB;&#x52A0;
                    </button>
                  </div>
                  <div id="tiktok-sales-attr-msg" class="text-[11px] text-slate-400">
                    &#x4ECE;&#x6A21;&#x677F;&#x9009;&#x62E9;&#x9500;&#x552E;&#x5C5E;&#x6027;&#xFF0C;&#x6216;&#x81EA;&#x5B9A;&#x4E49;&#x540D;&#x79F0;&#x3002;
                  </div>
                </div>
                <div id="tiktok-sales-attr-values" class="space-y-3"></div>
                <div id="tiktok-sku-grid-block" class="bg-white border border-slate-100 rounded-2xl p-4 space-y-3">
                  <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                    &#x5C5E;&#x6027;&#x6392;&#x5217;&#x7EC4;&#x5408;
                    <span class="text-[10px] text-slate-500 bg-slate-100 border border-slate-200 px-2 py-0.5 rounded-full font-black">&#x5FC5;&#x586B;</span>
                  </div>
                  <div id="tiktok-sku-grid" class="space-y-3"></div>
                  <div class="text-[11px] text-slate-400">当所有已选销售属性都填写了属性值后，会自动生成组合并可配置。</div>
                </div>
                <textarea id="tiktok-attrs-json" class="hidden">[]</textarea>
                <textarea id="tiktok-img-json" class="hidden">[]</textarea>
              </div>
              <div class="flex items-center gap-2">
                <button
                  id="tiktok-create"
                  type="button"
                  class="px-3 py-2 rounded-lg bg-accent text-white text-xs font-medium hover:bg-accent/90"
                >
                  &#x63D0;&#x4EA4;&#x65B0;&#x589E;
                </button>
                <span class="text-[11px] text-slate-400">&#x4F1A;&#x81EA;&#x52A8;&#x8865;&#x5145;&#x5FC5;&#x8981;&#x4FE1;&#x606F;</span>
              </div>
              <div
                id="tiktok-selfcheck-msg"
                class="hidden mt-2 text-xs px-3 py-2 rounded-xl border bg-slate-50 text-slate-600"
              ></div>
              <pre
                id="tiktok-create-result"
                class="text-[11px] bg-slate-50 border border-slate-100 rounded-xl p-3 overflow-auto max-h-48 whitespace-pre-wrap"
              ></pre>
            </div>
          </div>
        </section>

        <section id="view-upload-temu" class="space-y-6 hidden">
          <div id="temu-list-wrap" class="bg-white rounded-2xl shadow-soft border border-slate-100 overflow-hidden">
            <div class="px-6 py-4 border-b border-slate-50 flex flex-col sm:flex-row sm:items-center justify-between gap-3">
              <div class="min-w-0">
                <h2 class="text-base font-bold text-slate-800">TEMU 商品列表</h2>
                <!-- API label hidden by request -->
              </div>
              <div class="flex items-center gap-2">
                <input
                  id="temu-goods-keywords"
                  class="px-3 py-2 rounded-lg border border-slate-200 text-xs"
                  placeholder="关键字 keywords(可选)"
                />
                <button
                  id="temu-goods-refresh"
                  type="button"
                  class="px-3 py-2 rounded-lg bg-accent text-white text-xs font-semibold hover:bg-accent/90 shadow-md shadow-accent/20"
                >
                  <i class="fas fa-magnifying-glass mr-1"></i>搜索
                </button>
                <button
                  id="temu-go-upload"
                  type="button"
                  class="px-3 py-2 rounded-lg bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800 shadow-md shadow-slate-900/10"
                  title="前往 TEMU 商品上传"
                >
                  <i class="fas fa-cloud-arrow-up mr-1"></i>商品上传
                </button>
              </div>
            </div>
            <div class="overflow-x-auto">
              <table class="w-full text-left border-collapse">
                <thead>
                  <tr class="text-xs text-slate-400 border-b border-slate-100 bg-slate-50/50">
                    <th class="px-6 py-3 font-semibold">商品ID</th>
                    <th class="px-6 py-3 font-semibold">商品信息</th>
                    <th class="px-6 py-3 font-semibold">SKU</th>
                    <th class="px-6 py-3 font-semibold whitespace-nowrap">在售状态</th>
                    <th class="px-6 py-3 font-semibold whitespace-nowrap">审核状态</th>
                    <th class="px-6 py-3 font-semibold whitespace-nowrap text-right">售价</th>
                    <th class="px-6 py-3 font-semibold">录入时间</th>
                    <th class="px-6 py-3 font-semibold text-right">操作</th>
                  </tr>
                </thead>
                <tbody id="temu-goods-tbody" class="text-sm text-slate-600">
                  <tr class="table-row-hover transition">
                    <td class="px-6 py-6 text-center text-xs text-slate-400" colspan="8">
                      <i class="fas fa-circle-notch fa-spin mr-2"></i>加载中...
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="px-6 py-4 border-t border-slate-50 flex flex-col sm:flex-row sm:items-center justify-between gap-3">
              <span id="temu-goods-summary" class="text-xs text-slate-400">-</span>
              <div class="flex items-center gap-3 justify-end">
                <button
                  id="temu-goods-prev"
                  type="button"
                  class="px-3 py-2 rounded-lg border border-slate-200 text-slate-700 text-xs font-medium hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  上一页
                </button>
                <div id="temu-goods-page" class="text-xs text-slate-500">-</div>
                <div class="flex items-center gap-2">
                  <input
                    id="temu-goods-page-input"
                    type="number"
                    min="1"
                    step="1"
                    class="w-[90px] px-3 py-2 rounded-lg border border-slate-200 text-xs bg-white"
                    placeholder="页码"
                  />
                  <button
                    id="temu-goods-page-go"
                    type="button"
                    class="px-3 py-2 rounded-lg border border-slate-200 text-slate-700 text-xs font-medium hover:bg-slate-50"
                  >
                    跳转
                  </button>
                </div>
                <button
                  id="temu-goods-next"
                  type="button"
                  class="px-3 py-2 rounded-lg border border-slate-200 text-slate-700 text-xs font-medium hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  下一页
                </button>
                <div class="flex items-center gap-2 pl-2 border-l border-slate-100">
                  <span class="text-xs text-slate-400 whitespace-nowrap">每页</span>
                  <input
                    id="temu-goods-size"
                    type="number"
                    min="1"
                    step="1"
                    value="15"
                    class="w-[100px] px-3 py-2 rounded-lg border border-slate-200 text-xs bg-white"
                    placeholder="条数"
                  />
                </div>
              </div>
            </div>
          </div>

          <div id="temu-upload-wrap" class="hidden bg-white rounded-2xl shadow-soft border border-slate-100 overflow-hidden">
            <div class="px-6 py-4 border-b border-slate-50 flex flex-col sm:flex-row sm:items-center justify-between gap-3">
              <div class="min-w-0">
                <h2 class="text-base font-bold text-slate-800">TEMU 商品上传</h2>
                <div class="text-xs text-slate-400 mt-0.5">按步骤完成：类目 → 模板 → 图片 → 新增</div>
              </div>
              <div class="flex items-center gap-2">
                <button
                  id="temu-back-to-list"
                  type="button"
                  class="text-xs font-semibold px-3 py-2 rounded-lg bg-white border border-slate-200 text-slate-700 hover:bg-slate-50"
                  title="返回 TEMU 商品列表"
                >
                  <i class="fas fa-arrow-left mr-1"></i>返回列表
                </button>
                <button
                  id="temu-reset"
                  type="button"
                  class="text-xs font-semibold px-3 py-2 rounded-lg border border-slate-200 text-slate-600 hover:bg-slate-50"
                >
                  <i class="fas fa-rotate-left mr-1"></i>重置
                </button>
              </div>
            </div>

            <div class="p-6">
              <div class="bg-slate-50/60 border border-slate-100 rounded-2xl p-4">
                <div class="text-xs font-bold text-slate-600 flex items-center gap-2 mb-3">
                  <i class="fas fa-route text-[12px] text-slate-500"></i>
                  <span>步骤导航</span>
                  <span class="text-[11px] text-slate-400 font-medium">完成后自动解锁下一步</span>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-2">
                  <button id="temu-step-1-btn" type="button" class="text-left px-3 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 transition">
                    <div class="flex items-center gap-3">
                      <span id="temu-step-1-dot" class="w-7 h-7 rounded-full bg-accent/10 text-accent flex items-center justify-center text-xs font-black">1</span>
                      <div class="min-w-0">
                        <div class="text-sm font-semibold text-slate-800">选择类目</div>
                        <div id="temu-step-1-hint" class="text-[11px] text-slate-400 truncate">请选择类目</div>
                      </div>
                      <i id="temu-step-1-check" class="fas fa-check-circle text-emerald-600 hidden"></i>
                    </div>
                  </button>
                  <button id="temu-step-2-btn" type="button" class="text-left px-3 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 transition">
                    <div class="flex items-center gap-3">
                      <span id="temu-step-2-dot" class="w-7 h-7 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center text-xs font-black">2</span>
                      <div class="min-w-0">
                        <div class="text-sm font-semibold text-slate-800">获取模板</div>
                        <div id="temu-step-2-hint" class="text-[11px] text-slate-400 truncate">根据类目获取属性模板</div>
                      </div>
                      <i id="temu-step-2-check" class="fas fa-check-circle text-emerald-600 hidden"></i>
                    </div>
                  </button>
                    <button id="temu-step-3-btn" type="button" class="text-left px-3 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 transition">
                      <div class="flex items-center gap-3">
                        <span id="temu-step-3-dot" class="w-7 h-7 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center text-xs font-black">3</span>
                        <div class="min-w-0">
                          <div class="text-sm font-semibold text-slate-800">商品描述</div>
                          <div id="temu-step-3-hint" class="text-[11px] text-slate-400 truncate">填写商品基础描述</div>
                        </div>
                        <i id="temu-step-3-check" class="fas fa-check-circle text-emerald-600 hidden"></i>
                      </div>
                    </button>
                    <button id="temu-step-4-btn" type="button" class="text-left px-3 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 transition">
                      <div class="flex items-center gap-3">
                        <span id="temu-step-4-dot" class="w-7 h-7 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center text-xs font-black">4</span>
                        <div class="min-w-0">
                          <div class="text-sm font-semibold text-slate-800">商品详情</div>
                          <div id="temu-step-4-hint" class="text-[11px] text-slate-400 truncate">上传详情图片</div>
                        </div>
                        <i id="temu-step-4-check" class="fas fa-check-circle text-emerald-600 hidden"></i>
                      </div>
                    </button>
                    <button id="temu-step-5-btn" type="button" class="text-left px-3 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 transition">
                      <div class="flex items-center gap-3">
                        <span id="temu-step-5-dot" class="w-7 h-7 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center text-xs font-black">5</span>
                        <div class="min-w-0">
                          <div class="text-sm font-semibold text-slate-800">新增商品</div>
                          <div id="temu-step-5-hint" class="text-[11px] text-slate-400 truncate">填写字段并提交</div>
                        </div>
                        <i id="temu-step-5-check" class="fas fa-check-circle text-emerald-600 hidden"></i>
                      </div>
                    </button>
                </div>
              </div>

              <div class="mt-6 bg-white border border-slate-100 rounded-2xl p-5">
                    <div id="temu-step-1-panel" class="space-y-3">
                      <div class="flex items-center justify-between gap-3">
                        <div>
                          <div class="text-sm font-bold text-slate-800 flex items-center gap-2">
                            <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-accent/10 text-accent text-[11px] font-black">1</span>
                            选择类目
                          </div>
                          <div class="text-xs text-slate-400 mt-1">请选择末级类目，用于后续模板与新增。</div>
                        </div>
                        <div class="text-xs text-slate-500">
                          已选：<span id="temu-cat-id-text" class="font-semibold text-slate-700">-</span>
                          <span id="temu-cat-id" class="hidden">-</span>
                        </div>
                      </div>
                      <div id="temu-cat-select" class="space-y-2"></div>
                      <div id="temu-step-1-actions" class="flex justify-end">
                        <button id="temu-step-next-1" type="button" class="px-4 py-2 rounded-xl bg-accent text-white text-xs font-semibold hover:bg-accent/90 disabled:opacity-50 disabled:cursor-not-allowed">
                          下一步 <i class="fas fa-arrow-right ml-1"></i>
                        </button>
                      </div>
                    </div>

                    <div id="temu-step-2-panel" class="hidden space-y-3">
                      <div class="flex items-center justify-between gap-3">
                        <div>
                          <div class="text-sm font-bold text-slate-800 flex items-center gap-2">
                            <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-accent/10 text-accent text-[11px] font-black">2</span>
                            获取属性模板
                          </div>
                          <div class="text-xs text-slate-400 mt-1">根据类目获取模板，便于补全商品信息。</div>
                        </div>
                        <div class="flex items-center gap-2">
                          <button
                            id="temu-template-clear"
                            type="button"
                            class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50"
                          >
                            <i class="fas fa-trash mr-1"></i>清空选择
                          </button>
                          <button
                            id="temu-fetch-template"
                            type="button"
                            class="px-3 py-2 rounded-xl bg-accent text-white text-xs font-semibold hover:bg-accent/90 shadow-md shadow-accent/20"
                          >
                            <i class="fas fa-wand-magic-sparkles mr-1"></i>重新获取模板
                          </button>
                        </div>
                      </div>
                      <div id="temu-template-form-msg" class="hidden text-xs bg-slate-50 border border-slate-200 text-slate-600 px-3 py-2 rounded-xl"></div>
                      <div id="temu-template-form" class="grid grid-cols-1 lg:grid-cols-2 gap-6"></div>
                      <pre id="temu-template" class="hidden"></pre>
                      <div id="temu-step-2-actions" class="flex items-center justify-between">
                        <button id="temu-step-back-2" type="button" class="px-4 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50">
                          <i class="fas fa-arrow-left mr-1"></i>上一步
                        </button>
                        <button id="temu-step-next-2" type="button" class="px-4 py-2 rounded-xl bg-accent text-white text-xs font-semibold hover:bg-accent/90 disabled:opacity-50 disabled:cursor-not-allowed">
                          下一步 <i class="fas fa-arrow-right ml-1"></i>
                        </button>
                      </div>
                    </div>

                      <div id="temu-step-3-panel" class="hidden space-y-3">
                        <div class="flex items-center justify-between gap-3">
                          <div>
                            <div class="text-sm font-bold text-slate-800 flex items-center gap-2">
                              <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-slate-900/10 text-slate-700 text-[11px] font-black">3</span>
                              商品描述
                            </div>
                            <div class="text-xs text-slate-400 mt-1">填写商品名称、货号、描述信息，作为上架与检索的基础内容。</div>
                          </div>
                        </div>

                        <div class="bg-slate-50/70 border border-slate-100 rounded-2xl p-4 space-y-4">
                          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div class="space-y-2">
                              <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                                商品名称
                                <span class="text-[10px] text-rose-600 bg-rose-50 border border-rose-100 px-2 py-0.5 rounded-full font-black">必填</span>
                              </div>
                              <input
                                id="temu-goods-name"
                                class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white"
                                placeholder="请输入商品名称"
                              />
                            </div>
                            <div class="space-y-2">
                              <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                                商品货号
                                <span class="text-[10px] text-rose-600 bg-rose-50 border border-rose-100 px-2 py-0.5 rounded-full font-black">必填</span>
                              </div>
                              <input
                                id="temu-goods-sn"
                                class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white"
                                placeholder="请输入商品货号"
                              />
                            </div>
                          </div>
                          <div class="space-y-2">
                            <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                              商品描述
                              <span class="text-[10px] text-rose-600 bg-rose-50 border border-rose-100 px-2 py-0.5 rounded-full font-black">必填</span>
                            </div>
                            <textarea
                              id="temu-goods-brief"
                              class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white"
                              rows="2"
                              placeholder="请输入商品描述"
                            ></textarea>
                          </div>
                          <div class="space-y-2">
                            <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                              阿里商家货号
                              <span class="text-[10px] text-slate-500 bg-slate-100 border border-slate-200 px-2 py-0.5 rounded-full font-black">选填</span>
                            </div>
                            <input
                              id="temu-ali-seller-sn"
                              class="w-full px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white"
                              placeholder="可选：阿里商家货号"
                            />
                          </div>
                        </div>

                        <div id="temu-step-3-actions" class="flex items-center justify-between">
                          <button id="temu-step-back-3" type="button" class="px-4 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50">
                            <i class="fas fa-arrow-left mr-1"></i>上一步
                          </button>
                          <button id="temu-step-next-3" type="button" class="px-4 py-2 rounded-xl bg-accent text-white text-xs font-semibold hover:bg-accent/90 disabled:opacity-50 disabled:cursor-not-allowed">
                            下一步 <i class="fas fa-arrow-right ml-1"></i>
                          </button>
                        </div>
                      </div>

                      <div id="temu-step-4-panel" class="hidden space-y-3">
                        <div class="flex items-center justify-between gap-3">
                          <div>
                            <div class="text-sm font-bold text-slate-800 flex items-center gap-2">
                              <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-slate-900/10 text-slate-700 text-[11px] font-black">4</span>
                              商品详情
                            </div>
                            <div class="text-xs text-slate-400 mt-1">上传成功后会自动加入下方图片列表。</div>
                          </div>
                        </div>

                        <div class="bg-slate-50/60 border border-slate-100 rounded-2xl p-4 space-y-4">
                          <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-3">
                            <div class="text-xs font-bold text-slate-600 flex items-center gap-2">
                              <i class="fas fa-images text-[12px] text-slate-500"></i>
                              详情图片
                            </div>
                            <div class="flex flex-col sm:flex-row gap-2 items-start sm:items-center">
                              <input id="temu-file" type="file" accept="image/*" multiple class="hidden" />
                              <button
                                id="temu-upload"
                                type="button"
                                class="px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800 shadow-md shadow-slate-900/10"
                              >
                                <i class="fas fa-upload mr-1"></i>上传详情图
                              </button>
                            </div>
                          </div>

                          <div id="temu-image-preview" class="bg-white border border-slate-100 rounded-2xl p-4">
                            <div class="text-[11px] text-slate-400">暂无图片（上传后会自动出现预览）</div>
                          </div>

                          <pre
                            id="temu-upload-result"
                            class="hidden text-[11px] bg-white border border-slate-100 rounded-2xl p-3 overflow-auto max-h-40 whitespace-pre-wrap"
                          ></pre>

                          <!-- Hidden payload store: goods_detail_img (JSON array) -->
                          <textarea id="temu-detail-imgs" class="hidden" rows="2">[]</textarea>
                        </div>

                        <div id="temu-step-4-actions" class="flex items-center justify-between">
                          <button id="temu-step-back-4" type="button" class="px-4 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50">
                            <i class="fas fa-arrow-left mr-1"></i>上一步
                          </button>
                          <button id="temu-step-next-4" type="button" class="px-4 py-2 rounded-xl bg-accent text-white text-xs font-semibold hover:bg-accent/90 disabled:opacity-50 disabled:cursor-not-allowed">
                            下一步 <i class="fas fa-arrow-right ml-1"></i>
                          </button>
                        </div>
                      </div>

                      <div id="temu-step-5-panel" class="hidden space-y-3">
                        <div>
                          <div class="text-sm font-bold text-slate-800 flex items-center gap-2">
                            <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-accent/10 text-accent text-[11px] font-black">5</span>
                            新增商品
                          </div>
                          <div class="text-xs text-slate-400 mt-1">配置销售属性与 SKU 组合，提交后自动带上必要信息。</div>
                        </div>

                        <div class="bg-slate-50/70 border border-slate-100 rounded-2xl p-4 space-y-3">
                          <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                            销售属性（最多选 2 个）
                            <span class="text-[10px] text-rose-600 bg-rose-50 border border-rose-100 px-2 py-0.5 rounded-full font-black">必填</span>
                          </div>
                          <div id="temu-sales-attrs" class="flex flex-wrap gap-2"></div>
                          <div id="temu-sales-attrs-msg" class="text-[11px] text-slate-400">请选择至少 1 个销售属性。</div>
                          <div class="text-[11px] text-amber-600 bg-amber-50 border border-amber-100 px-3 py-2 rounded-xl">
                            提醒：切换/取消销售属性会清空已填写的属性值与 SKU 组合，请谨慎操作。
                          </div>
                        </div>

                        <div id="temu-sales-attr-values" class="space-y-3"></div>

                        <div class="bg-white border border-slate-100 rounded-2xl p-4 space-y-3">
                          <div class="flex items-center gap-2 text-xs font-semibold text-slate-700">
                            SKU 组合与库存配置
                            <span class="text-[10px] text-rose-600 bg-rose-50 border border-rose-100 px-2 py-0.5 rounded-full font-black">必填</span>
                          </div>
                          <div id="temu-sku-grid" class="space-y-3"></div>
                          <div class="text-[11px] text-slate-400">每个组合都需要填写编码、库存、价格、重量与尺寸，并上传属性图（最多 10 张）。</div>
                        </div>
                        <div class="flex flex-col items-center gap-3">
                          <button
                            id="temu-create"
                            type="button"
                            class="px-8 py-3 rounded-2xl bg-accent text-white text-sm font-black hover:bg-accent/90 shadow-lg shadow-accent/30 transition"
                          >
                            <i class="fas fa-paper-plane mr-2"></i>提交新增
                          </button>
                          <span class="text-[11px] text-slate-400">会自动补充必要信息</span>
                        </div>
                        <div
                          id="temu-create-result"
                          class="hidden text-xs bg-slate-50 border border-slate-100 rounded-xl px-3 py-2"
                        ></div>
                        <div
                          id="temu-create-toast"
                          class="hidden text-xs px-3 py-2 rounded-xl border"
                        ></div>
                        <div id="temu-step-5-actions" class="flex justify-start">
                          <button id="temu-step-back-5" type="button" class="px-4 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50">
                            <i class="fas fa-arrow-left mr-1"></i>上一步
                          </button>
                        </div>
                      </div>
                  </div>
              </div>
            </div>
          </div>
        </section>

        <!-- 店铺信息 -->
        <section id="view-shop-info" class="space-y-6 hidden">
          <div class="bg-white rounded-2xl shadow-soft border border-slate-100 p-6 space-y-4">
            <div class="flex items-center justify-between gap-4">
              <div class="flex items-center gap-2">
                <div class="w-9 h-9 rounded-2xl bg-accent/10 text-accent flex items-center justify-center">
                  <i class="fas fa-store"></i>
                </div>
                <div>
                  <div class="text-base font-black text-slate-900">店铺信息</div>
                  <div class="text-xs text-slate-400 mt-0.5">查看/更新 shop_keyword，上传店铺 LOGO</div>
                </div>
              </div>
              <button
                id="shop-info-refresh"
                type="button"
                class="px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800"
              >
                <i class="fas fa-rotate mr-1"></i>刷新
              </button>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-5 gap-6">
              <div id="shop-logo-panel" class="bg-white border border-slate-100 rounded-2xl p-4 space-y-3 lg:col-span-2 h-full">
                <div class="flex items-center justify-between gap-3">
                  <div class="text-xs font-black text-slate-700 flex items-center gap-2">
                    <i class="fas fa-image text-slate-500"></i>店铺 LOGO
                  </div>
                  <button
                    id="shop-logo-upload"
                    type="button"
                    class="px-3 py-2 rounded-xl bg-accent text-white text-xs font-semibold hover:bg-accent/90"
                  >
                    <i class="fas fa-upload mr-1"></i>上传
                  </button>
                  <input id="shop-logo-file" type="file" accept="image/*" class="hidden" />
                </div>

                <div
                  id="shop-logo-preview"
                  class="relative rounded-2xl border border-slate-200 bg-white p-3 flex items-center justify-center min-h-[180px] overflow-hidden"
                >
                  <div
                    id="shop-logo-loading"
                    class="hidden absolute inset-0 bg-white/70 backdrop-blur-[1px] flex items-center justify-center"
                  >
                    <div class="text-xs font-semibold text-slate-600 flex items-center gap-2">
                      <i class="fas fa-circle-notch fa-spin"></i>加载中...
                    </div>
                  </div>
                  <div class="text-[11px] text-slate-400">暂无 LOGO</div>
                </div>
                <pre id="shop-logo-raw" class="hidden"></pre>
              </div>

              <div class="bg-white border border-slate-100 rounded-2xl p-4 space-y-3 lg:col-span-3 h-full">
                <div class="flex items-center justify-between gap-3">
                  <div class="text-xs font-black text-slate-700 flex items-center gap-2">
                    <i class="fas fa-tags text-slate-500"></i>店铺关键字（shop_keyword）
                  </div>
                  <button
                    id="shop-keyword-save"
                    type="button"
                    class="px-4 py-2 rounded-xl bg-emerald-600 text-white text-xs font-semibold hover:bg-emerald-700"
                  >
                    <i class="fas fa-floppy-disk mr-1"></i>保存
                  </button>
                </div>
                <div class="text-[11px] text-slate-400">多个词用英文 <span class="font-mono">;</span> 拼接，例如：<span class="font-mono">shoes;bag;toy</span></div>
                <div class="flex items-center justify-between gap-3">
                  <div class="text-xs font-black text-slate-600">关键字列表</div>
                  <button
                    id="shop-keyword-add"
                    type="button"
                    class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-xs font-semibold text-slate-700 hover:bg-slate-50"
                  >
                    <i class="fas fa-plus mr-1"></i>新增
                  </button>
                </div>
                <div id="shop-keywords" class="relative space-y-2">
                  <div
                    id="shop-keywords-loading"
                    class="hidden absolute inset-0 bg-white/70 backdrop-blur-[1px] rounded-xl flex items-center justify-center"
                  >
                    <div class="text-xs font-semibold text-slate-600 flex items-center gap-2">
                      <i class="fas fa-circle-notch fa-spin"></i>加载中...
                    </div>
                  </div>
                </div>
                <div id="shop-info-tip" class="text-[11px] text-slate-400"></div>
                <pre id="shop-info-raw" class="hidden"></pre>
              </div>
            </div>

          </div>
        </section>

        <!-- Image viewer -->
        <div id="image-viewer" class="fixed inset-0 hidden z-50">
          <div id="image-viewer-backdrop" class="absolute inset-0 bg-slate-900/70"></div>
          <div class="absolute inset-0 p-4 flex items-center justify-center">
            <div class="bg-white rounded-2xl shadow-soft border border-slate-100 max-w-5xl w-full overflow-hidden">
              <div class="px-4 py-3 border-b border-slate-100 flex items-center justify-between gap-2">
                <div class="text-sm font-black text-slate-800 flex items-center gap-2">
                  <i class="fas fa-up-right-and-down-left-from-center text-slate-500"></i>查看原图
                </div>
                <div class="flex items-center gap-2">
                  <a
                    id="image-viewer-open"
                    href="#"
                    target="_blank"
                    rel="noreferrer"
                    class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-xs font-semibold text-slate-700 hover:bg-slate-50"
                  >
                    <i class="fas fa-arrow-up-right-from-square mr-1"></i>新窗口打开
                  </a>
                  <button
                    id="image-viewer-close"
                    type="button"
                    class="px-3 py-2 rounded-xl bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800"
                  >
                    <i class="fas fa-xmark mr-1"></i>关闭
                  </button>
                </div>
              </div>
              <div class="bg-slate-50 p-4 flex items-center justify-center">
                <img id="image-viewer-img" alt="preview" class="max-h-[75vh] w-auto object-contain" />
              </div>
            </div>
          </div>
        </div>

        <!-- 物流支持 -->
        <section id="view-logistics" class="space-y-6 hidden">
          <div class="bg-white rounded-2xl shadow-soft border border-slate-100 p-6 space-y-4">
            <div class="flex items-center justify-between gap-4">
              <div class="flex items-center gap-2">
                <div class="w-9 h-9 rounded-2xl bg-slate-900/5 text-slate-700 flex items-center justify-center">
                  <i class="fas fa-truck-fast"></i>
                </div>
                <div>
                  <div class="text-base font-black text-slate-900">物流支持</div>
                  <div class="text-xs text-slate-400 mt-0.5">绑定/解绑物流（来自 merchants_logistics）</div>
                </div>
              </div>
              <button
                id="logistics-refresh"
                type="button"
                class="px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800"
              >
                <i class="fas fa-rotate mr-1"></i>刷新
              </button>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-5 gap-6">
              <div id="logistics-bind-panel" class="bg-slate-50/70 border border-slate-100 rounded-2xl p-4 space-y-3 lg:col-span-2 h-full">
                <div class="text-xs font-black text-slate-700 flex items-center gap-2">
                  <i class="fas fa-link text-slate-500"></i>绑定物流
                </div>
                <div class="text-[11px] text-slate-400">从“还可绑定”中选择一个物流名称进行绑定。</div>
                <div id="logistics-bind-disabled-hint" class="hidden text-[11px] text-slate-400">
                  No bindable logistics available. Binding is disabled.
                </div>
                <div id="logistics-available" class="flex flex-wrap gap-2"></div>
                <div class="flex items-center gap-2">
                  <input
                    id="logistics-label"
                    list="logistics-options"
                    autocomplete="off"
                    class="flex-1 px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white"
                    placeholder="请选择/搜索可绑定物流"
                  />
                  <datalist id="logistics-options"></datalist>
                  <button
                    id="logistics-bind"
                    type="button"
                    class="px-4 py-2 rounded-xl bg-accent text-white text-xs font-semibold hover:bg-accent/90"
                  >
                    <i class="fas fa-plus mr-1"></i>绑定
                  </button>
                </div>
                <pre id="logistics-bind-raw" class="hidden"></pre>
              </div>

              <div class="bg-white border border-slate-100 rounded-2xl overflow-hidden lg:col-span-3 h-full">
                <div class="px-4 py-3 bg-slate-50 border-b border-slate-100 flex items-center justify-between gap-3">
                  <div class="text-xs font-black text-slate-700 flex items-center gap-2">
                    <i class="fas fa-list text-slate-500"></i>已绑定物流
                  </div>
                  <div id="logistics-summary" class="text-[11px] text-slate-400">-</div>
                </div>
                <div class="overflow-x-auto">
                  <table class="w-full text-left">
                    <thead class="bg-slate-50 text-xs text-slate-500">
                      <tr>
                        <th class="px-4 py-3 font-semibold">ID</th>
                        <th class="px-4 py-3 font-semibold">物流名称</th>
                        <th class="px-4 py-3 font-semibold">操作</th>
                      </tr>
                    </thead>
                    <tbody id="logistics-tbody" class="text-sm text-slate-600"></tbody>
                  </table>
                </div>
              </div>
            </div>

            <pre id="logistics-raw" class="hidden"></pre>
          </div>
        </section>

        <!-- 批采商品 -->
        <section id="view-wholesales-goods" class="space-y-6 hidden">
          <div class="bg-white rounded-2xl shadow-soft border border-slate-100 p-6 space-y-4">
            <div class="flex items-center justify-between gap-4">
              <div class="flex items-center gap-2">
                <div class="w-9 h-9 rounded-2xl bg-slate-900/5 text-slate-700 flex items-center justify-center">
                  <i class="fas fa-boxes-stacked"></i>
                </div>
                <div>
                  <div class="text-base font-black text-slate-900">批采商品</div>
                  <div class="text-xs text-slate-400 mt-0.5">wholesales 商品列表 / 新增 / 上下架 / 删除 / 换图</div>
                </div>
              </div>
              <div class="flex items-center gap-2">
                <input id="ws-goods-keyword" class="px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white w-64" placeholder="搜索：货号/ID/名称" />
                <button
                  id="ws-goods-refresh"
                  type="button"
                  class="px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800"
                >
                  <i class="fas fa-magnifying-glass mr-1"></i>搜索
                </button>
              </div>
            </div>

            <div class="bg-slate-50/70 border border-slate-100 rounded-2xl p-4">
              <div class="flex items-center justify-between gap-3">
                <div class="text-xs font-black text-slate-700 flex items-center gap-2">
                  <i class="fas fa-circle-plus text-slate-500"></i>新增批采商品
                </div>
                <button id="ws-goods-create-toggle" type="button" class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-xs font-black text-slate-700 hover:bg-slate-50">
                  <i class="fas fa-chevron-down mr-1"></i>展开
                </button>
              </div>
              <div id="ws-goods-create-panel" class="hidden mt-4">
                <div class="flex flex-col lg:flex-row lg:items-center justify-between gap-3 mb-3">
                  <div class="text-xs font-black text-slate-600 flex items-center gap-2">
                    <i class="fas fa-wand-magic-sparkles text-slate-500"></i>新增模式
                  </div>
                  <div class="inline-flex rounded-2xl bg-slate-50 border border-slate-200 p-1">
                    <button
                      id="ws-create-mode-single"
                      type="button"
                      class="px-3 py-2 rounded-2xl text-xs font-black bg-white border border-slate-200 text-slate-800"
                    >
                      单个新增
                    </button>
                    <button
                      id="ws-create-mode-batch"
                      type="button"
                      class="px-3 py-2 rounded-2xl text-xs font-black text-slate-600 hover:text-slate-800"
                    >
                      批量新增
                    </button>
                  </div>
                </div>

                <div id="ws-create-single">
                  <div class="grid grid-cols-1 lg:grid-cols-3 gap-3">
                  <div class="lg:col-span-1">
                    <div class="text-[11px] font-black text-slate-600 mb-1">商品图片</div>
                    <div class="bg-white border border-slate-200 rounded-2xl p-3 space-y-2">
                      <div id="ws-create-img-preview" class="rounded-xl border border-slate-200 bg-slate-50 h-40 flex items-center justify-center overflow-hidden">
                        <div class="text-[11px] text-slate-400">未选择图片</div>
                      </div>
                      <input id="ws-create-image" type="file" accept="image/*" class="hidden" />
                      <button id="ws-create-image-btn" type="button" class="w-full px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800">
                        <i class="fas fa-image mr-1"></i>选择图片
                      </button>
                    </div>
                  </div>
                  <div class="lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-3">
                    <div>
                      <div class="text-[11px] font-black text-slate-600 mb-1">分类</div>
                      <select id="ws-create-category" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white"></select>
                    </div>
                    <div>
                      <div class="text-[11px] font-black text-slate-600 mb-1">货号（sku）</div>
                      <input id="ws-create-sku" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" />
                    </div>
                    <div class="md:col-span-2">
                      <div class="text-[11px] font-black text-slate-600 mb-1">名称（name）</div>
                      <input id="ws-create-name" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" />
                    </div>
                    <div>
                      <div class="text-[11px] font-black text-slate-600 mb-1">库存（stock）</div>
                      <input id="ws-create-stock" type="number" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" />
                    </div>
                    <div>
                      <div class="text-[11px] font-black text-slate-600 mb-1">重量 kg（weight）</div>
                      <input id="ws-create-weight" type="number" step="0.001" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" />
                    </div>
                    <div>
                      <div class="text-[11px] font-black text-slate-600 mb-1">售价（price）</div>
                      <input id="ws-create-price" type="number" step="0.01" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" />
                    </div>
                    <div>
                      <div class="text-[11px] font-black text-slate-600 mb-1">上架（status）</div>
                      <select id="ws-create-status" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white">
                        <option value="1">上架</option>
                        <option value="0">下架</option>
                      </select>
                    </div>
                    <div>
                      <div class="text-[11px] font-black text-slate-600 mb-1">长 cm（length）</div>
                      <input id="ws-create-length" type="number" step="0.1" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" />
                    </div>
                    <div>
                      <div class="text-[11px] font-black text-slate-600 mb-1">宽 cm（width）</div>
                      <input id="ws-create-width" type="number" step="0.1" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" />
                    </div>
                    <div>
                      <div class="text-[11px] font-black text-slate-600 mb-1">高 cm（height）</div>
                      <input id="ws-create-height" type="number" step="0.1" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" />
                    </div>
                    <div class="md:col-span-2 flex items-center justify-between gap-3">
                      <div id="ws-create-tip" class="text-[11px] text-slate-400"></div>
                      <button id="ws-create-submit" type="button" class="px-5 py-2 rounded-xl bg-emerald-600 text-white text-xs font-semibold hover:bg-emerald-700">
                        <i class="fas fa-paper-plane mr-1"></i>提交新增
                      </button>
                    </div>
                    <pre id="ws-create-raw" class="hidden md:col-span-2"></pre>
                  </div>
                  </div>
                </div>

                <div id="ws-create-batch" class="hidden space-y-3">
                  <div class="bg-white border border-slate-200 rounded-2xl p-4 space-y-3">
                    <div class="flex items-center justify-between gap-3">
                      <div class="text-xs font-black text-slate-700 flex items-center gap-2">
                        <i class="fas fa-file-csv text-slate-500"></i>批量新增（CSV）
                      </div>
                      <button
                        id="ws-batch-download-template"
                        type="button"
                        class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-xs font-semibold text-slate-700 hover:bg-slate-50"
                      >
                        <i class="fas fa-download mr-1"></i>下载模板
                      </button>
                    </div>
                    <div class="text-[11px] text-slate-400">
                      说明：每行一个商品。CSV 里不包含图片字段；图片可逐行上传，或批量上传后拖拽到对应行进行绑定。系统会按行依次调用单个新增接口。
                    </div>

                    <div class="flex flex-col lg:flex-row lg:items-center gap-2">
                      <input id="ws-batch-csv-file" type="file" accept=".csv,text/csv" class="hidden" />
                      <button
                        id="ws-batch-upload-csv"
                        type="button"
                        class="px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800"
                      >
                        <i class="fas fa-upload mr-1"></i>上传 CSV
                      </button>
                      <input id="ws-batch-images" type="file" accept="image/*" multiple class="hidden" />
                      <button
                        id="ws-batch-upload-images"
                        type="button"
                        class="px-4 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50"
                      >
                        <i class="fas fa-images mr-1"></i>批量上传图片
                      </button>
                      <div class="flex-1 min-w-0 flex flex-col sm:flex-row sm:items-center gap-2">
                        <div
                          id="ws-batch-csv-name"
                          class="text-[11px] text-slate-500 truncate px-3 py-2 rounded-xl bg-slate-50 border border-slate-100 flex-1"
                        >
                          未选择 CSV
                        </div>
                        <div
                          id="ws-batch-images-name"
                          class="text-[11px] text-slate-500 truncate px-3 py-2 rounded-xl bg-slate-50 border border-slate-100 flex-1"
                        >
                          未选择图片
                        </div>
                      </div>
                    </div>

                    <div id="ws-batch-image-pool" class="hidden border border-slate-100 rounded-2xl overflow-hidden">
                      <div class="px-4 py-3 bg-slate-50 border-b border-slate-100 flex items-center justify-between">
                        <div class="text-xs font-black text-slate-700">图片池（可拖拽到行）</div>
                        <div id="ws-batch-image-pool-note" class="text-[11px] text-slate-400">-</div>
                      </div>
                      <div id="ws-batch-image-pool-body" class="p-3 bg-white flex flex-wrap gap-2"></div>
                    </div>

                    <div id="ws-batch-preview" class="hidden border border-slate-100 rounded-2xl overflow-hidden">
                      <div class="px-4 py-3 bg-slate-50 border-b border-slate-100 flex items-center justify-between">
                        <div class="text-xs font-black text-slate-700">预览（最多显示前 50 行）</div>
                        <div id="ws-batch-preview-note" class="text-[11px] text-slate-400">-</div>
                      </div>
                      <div class="overflow-x-auto">
                        <table class="w-full text-left">
                          <thead class="bg-white text-xs text-slate-500">
                            <tr>
                              <th class="px-4 py-3 font-semibold">行</th>
                              <th class="px-4 py-3 font-semibold">SKU</th>
                              <th class="px-4 py-3 font-semibold">名称</th>
                              <th class="px-4 py-3 font-semibold">分类ID</th>
                              <th class="px-4 py-3 font-semibold">图片</th>
                              <th class="px-4 py-3 font-semibold">校验</th>
                            </tr>
                          </thead>
                          <tbody id="ws-batch-preview-tbody" class="text-sm text-slate-600"></tbody>
                        </table>
                      </div>
                    </div>

                    <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-3">
                      <div id="ws-batch-progress" class="text-[11px] text-slate-500">-</div>
                      <div class="flex items-center gap-2">
                        <button
                          id="ws-batch-cancel"
                          type="button"
                          class="px-4 py-2 rounded-xl bg-white border border-slate-200 text-slate-700 text-xs font-semibold hover:bg-slate-50"
                        >
                          <i class="fas fa-stop mr-1"></i>停止
                        </button>
                        <button
                          id="ws-batch-start"
                          type="button"
                          class="px-4 py-2 rounded-xl bg-emerald-600 text-white text-xs font-semibold hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed"
                        >
                          <i class="fas fa-play mr-1"></i>开始批量新增
                        </button>
                      </div>
                    </div>

                    <pre id="ws-batch-log" class="hidden text-[11px] bg-slate-50 border border-slate-100 rounded-2xl p-3 overflow-auto max-h-56 whitespace-pre-wrap"></pre>
                  </div>
                </div>
              </div>
            </div>

            <div class="bg-white border border-slate-100 rounded-2xl overflow-hidden">
              <div class="px-4 py-3 bg-slate-50 border-b border-slate-100 flex items-center justify-between gap-3">
                <span id="ws-goods-summary" class="text-xs text-slate-400">-</span>
                <div class="flex items-center gap-2">
                  <button id="ws-goods-prev" type="button" class="px-3 py-1.5 rounded border border-slate-200 text-xs text-slate-600 hover:bg-slate-50">上一页</button>
                  <div id="ws-goods-page" class="text-xs text-slate-500">-</div>
                  <button id="ws-goods-next" type="button" class="px-3 py-1.5 rounded border border-slate-200 text-xs text-slate-600 hover:bg-slate-50">下一页</button>
                </div>
              </div>
              <div class="overflow-x-auto">
                <table class="w-full text-left">
                  <thead class="bg-slate-50 text-xs text-slate-500">
                    <tr>
                      <th class="px-4 py-3 font-semibold">商品</th>
                      <th class="px-4 py-3 font-semibold">SKU</th>
                      <th class="px-4 py-3 font-semibold">分类</th>
                      <th class="px-4 py-3 font-semibold">售价</th>
                      <th class="px-4 py-3 font-semibold">上架</th>
                      <th class="px-4 py-3 font-semibold">操作</th>
                    </tr>
                  </thead>
                  <tbody id="ws-goods-tbody" class="text-sm text-slate-600"></tbody>
                </table>
              </div>
            </div>

            <pre id="ws-goods-raw" class="hidden"></pre>
          </div>
        </section>

        <!-- 批采发货人 -->
        <section id="view-wholesales-sender" class="space-y-6 hidden">
          <div class="bg-white rounded-2xl shadow-soft border border-slate-100 p-6 space-y-4">
            <div class="flex items-center justify-between gap-4">
              <div class="flex items-center gap-2">
                <div class="w-9 h-9 rounded-2xl bg-slate-900/5 text-slate-700 flex items-center justify-center">
                  <i class="fas fa-address-book"></i>
                </div>
                <div>
                  <div class="text-base font-black text-slate-900">批采发货人信息</div>
                  <div class="text-xs text-slate-400 mt-0.5">批采接口：sender_address_update / sender_address_info</div>
                </div>
              </div>
              <div class="flex items-center gap-2">
                <button id="ws-sender-refresh" type="button" class="px-4 py-2 rounded-xl bg-white border border-slate-200 text-xs font-semibold text-slate-700 hover:bg-slate-50">
                  <i class="fas fa-rotate mr-1"></i>获取当前
                </button>
                <button id="ws-sender-save" type="button" class="px-4 py-2 rounded-xl bg-emerald-600 text-white text-xs font-semibold hover:bg-emerald-700">
                  <i class="fas fa-save mr-1"></i>保存
                </button>
              </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
              <div>
                <div class="text-[11px] font-black text-slate-600 mb-1">寄件人姓名 *</div>
                <input id="ws-sender-name" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" />
              </div>
              <div>
                <div class="text-[11px] font-black text-slate-600 mb-1">寄件公司 *</div>
                <input id="ws-sender-company" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" />
              </div>
              <div>
                <div class="text-[11px] font-black text-slate-600 mb-1">寄件邮编 *</div>
                <input id="ws-sender-postCode" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" />
              </div>
              <div>
                <div class="text-[11px] font-black text-slate-600 mb-1">寄件邮箱 *</div>
                <input id="ws-sender-mailBox" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" />
              </div>
              <div>
                <div class="text-[11px] font-black text-slate-600 mb-1">寄件手机（手机和电话至少一项）</div>
                <input id="ws-sender-mobile" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" />
              </div>
              <div>
                <div class="text-[11px] font-black text-slate-600 mb-1">寄件电话</div>
                <input id="ws-sender-phone" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" />
              </div>
              <div>
                <div class="text-[11px] font-black text-slate-600 mb-1">寄件国家三字码 *</div>
                <input id="ws-sender-countryCode" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" placeholder="如：MEX" />
              </div>
              <div>
                <div class="text-[11px] font-black text-slate-600 mb-1">寄件州/省 *</div>
                <input id="ws-sender-prov" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" />
              </div>
              <div>
                <div class="text-[11px] font-black text-slate-600 mb-1">寄件市 *</div>
                <input id="ws-sender-city" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" />
              </div>
              <div>
                <div class="text-[11px] font-black text-slate-600 mb-1">寄件区 *</div>
                <input id="ws-sender-area" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" />
              </div>
              <div class="md:col-span-2 lg:col-span-3">
                <div class="text-[11px] font-black text-slate-600 mb-1">寄件详细地址 *</div>
                <input id="ws-sender-address" class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white" />
              </div>
            </div>
            <div id="ws-sender-msg" class="text-[11px] text-slate-500"></div>
          </div>
        </section>

        <!-- 批采订单 -->
        <section id="view-wholesales-orders" class="space-y-6 hidden">
          <div class="bg-white rounded-2xl shadow-soft border border-slate-100 p-6 space-y-4">
            <div class="flex items-center justify-between gap-4">
              <div class="flex items-center gap-2">
                <div class="w-9 h-9 rounded-2xl bg-slate-900/5 text-slate-700 flex items-center justify-center">
                  <i class="fas fa-receipt"></i>
                </div>
                <div>
                  <div class="text-base font-black text-slate-900">批采订单</div>
                  <div class="text-xs text-slate-400 mt-0.5">wholesales 订单列表（含商品明细）</div>
                </div>
              </div>
              <div class="flex items-center gap-2">
                <input id="ws-orders-keyword" class="px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white w-64" placeholder="搜索：货号/订单/名称" />
                <button
                  id="ws-orders-refresh"
                  type="button"
                  class="px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800"
                >
                  <i class="fas fa-magnifying-glass mr-1"></i>搜索
                </button>
              </div>
            </div>

            <div class="bg-white border border-slate-100 rounded-2xl overflow-hidden">
              <div class="px-4 py-3 bg-slate-50 border-b border-slate-100 flex items-center justify-between gap-3">
                <span id="ws-orders-summary" class="text-xs text-slate-400">-</span>
                <div class="flex items-center gap-2">
                  <button id="ws-orders-prev" type="button" class="px-3 py-1.5 rounded border border-slate-200 text-xs text-slate-600 hover:bg-slate-50">上一页</button>
                  <div id="ws-orders-page" class="text-xs text-slate-500">-</div>
                  <button id="ws-orders-next" type="button" class="px-3 py-1.5 rounded border border-slate-200 text-xs text-slate-600 hover:bg-slate-50">下一页</button>
                </div>
              </div>
              <div class="overflow-x-auto">
                <table class="w-full text-left">
                  <thead class="bg-slate-50 text-xs text-slate-500">
                    <tr>
                      <th class="px-4 py-3 font-semibold">订单</th>
                      <th class="px-4 py-3 font-semibold">状态</th>
                      <th class="px-4 py-3 font-semibold">金额</th>
                      <th class="px-4 py-3 font-semibold">商品</th>
                    </tr>
                  </thead>
                  <tbody id="ws-orders-tbody" class="text-sm text-slate-600"></tbody>
                </table>
              </div>
            </div>

            <pre id="ws-orders-raw" class="hidden"></pre>
          </div>
        </section>

        <!-- 批采退款订单 -->
        <section id="view-wholesales-refunds" class="space-y-6 hidden">
          <div class="bg-white rounded-2xl shadow-soft border border-slate-100 p-6 space-y-4">
            <div class="flex items-center justify-between gap-4">
              <div class="flex items-center gap-2">
                <div class="w-9 h-9 rounded-2xl bg-slate-900/5 text-slate-700 flex items-center justify-center">
                  <i class="fas fa-rotate-left"></i>
                </div>
                <div>
                  <div class="text-base font-black text-slate-900">批采退款订单</div>
                  <div class="text-xs text-slate-400 mt-0.5">wholesales 退款申请列表</div>
                </div>
              </div>
              <div class="flex items-center gap-2">
                <input id="ws-refunds-keyword" class="px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white w-64" placeholder="搜索：货号/订单/名称" />
                <button
                  id="ws-refunds-refresh"
                  type="button"
                  class="px-4 py-2 rounded-xl bg-slate-900 text-white text-xs font-semibold hover:bg-slate-800"
                >
                  <i class="fas fa-magnifying-glass mr-1"></i>搜索
                </button>
              </div>
            </div>

            <div class="bg-white border border-slate-100 rounded-2xl overflow-hidden">
              <div class="px-4 py-3 bg-slate-50 border-b border-slate-100 flex items-center justify-between gap-3">
                <span id="ws-refunds-summary" class="text-xs text-slate-400">-</span>
                <div class="flex items-center gap-2">
                  <button id="ws-refunds-prev" type="button" class="px-3 py-1.5 rounded border border-slate-200 text-xs text-slate-600 hover:bg-slate-50">上一页</button>
                  <div id="ws-refunds-page" class="text-xs text-slate-500">-</div>
                  <button id="ws-refunds-next" type="button" class="px-3 py-1.5 rounded border border-slate-200 text-xs text-slate-600 hover:bg-slate-50">下一页</button>
                </div>
              </div>
              <div class="overflow-x-auto">
                <table class="w-full text-left">
                  <thead class="bg-slate-50 text-xs text-slate-500">
                    <tr>
                      <th class="px-4 py-3 font-semibold">订单</th>
                      <th class="px-4 py-3 font-semibold">退款信息</th>
                      <th class="px-4 py-3 font-semibold">状态</th>
                      <th class="px-4 py-3 font-semibold">操作</th>
                    </tr>
                  </thead>
                  <tbody id="ws-refunds-tbody" class="text-sm text-slate-600"></tbody>
                </table>
              </div>
            </div>

            <pre id="ws-refunds-raw" class="hidden"></pre>
          </div>
        </section>

        <footer class="text-center py-6 text-xs text-slate-400">
          &copy; 2025 TopM Tech. All Rights Reserved.
        </footer>
      </div>
    </main>

    <div id="orders-detail-modal" class="fixed inset-0 z-[60] hidden">
      <div id="orders-detail-modal-overlay" class="absolute inset-0 bg-black/50 backdrop-blur-sm"></div>
      <div class="absolute inset-0 flex items-center justify-center p-4 sm:p-6">
        <div class="bg-white w-full max-w-4xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]">
          <div
            id="orders-detail-modal-header"
            class="px-6 py-5 bg-white border-b border-slate-100 flex justify-between items-center"
          >
            <div class="min-w-0">
              <div id="orders-detail-modal-title" class="text-base font-bold text-slate-800 truncate">订单详情</div>
              <div id="orders-detail-modal-subtitle" class="text-xs text-slate-400 mt-0.5 truncate">-</div>

              <div id="orders-detail-modal-ali-header" class="hidden">
                <div class="flex items-center gap-2 mb-1">
                  <span class="text-sm font-medium opacity-80">交易 ID:</span>
                  <span id="orders-detail-modal-trade-id" class="font-mono text-sm tracking-wider">-</span>
                </div>
                <div class="flex items-center gap-2">
                  <span id="orders-detail-modal-trade-status" class="px-2 py-0.5 rounded text-xs font-bold uppercase">
                    -
                  </span>
                  <span class="text-xs opacity-80 flex items-center gap-1">
                    <i class="far fa-clock text-[12px]"></i>
                    <span id="orders-detail-modal-trade-date">-</span>
                  </span>
                </div>
              </div>
            </div>
            <button
              id="orders-detail-modal-close"
              type="button"
              class="p-2 hover:bg-slate-100 rounded-full transition-colors"
              aria-label="关闭"
              title="关闭"
            >
              <i class="fas fa-xmark text-lg"></i>
            </button>
          </div>

          <div id="orders-detail-modal-content" class="flex-1 overflow-y-auto p-6 space-y-6">
            <div
              id="orders-detail-modal-error"
              class="hidden text-xs bg-rose-50 border border-rose-100 text-rose-600 px-3 py-2 rounded-lg"
            ></div>
            <div id="orders-detail-modal-meta" class="hidden text-xs bg-white border border-slate-100 rounded-xl p-3"></div>
            <div id="orders-detail-modal-body" class="space-y-6"></div>
          </div>

          <div
            id="orders-detail-modal-footer"
            class="hidden p-6 bg-slate-50 border-t border-slate-100 flex flex-col sm:flex-row gap-3"
          ></div>
        </div>
      </div>
    </div>

    <div id="ws-refund-modal" class="fixed inset-0 z-[60] hidden">
      <div id="ws-refund-modal-overlay" class="absolute inset-0 bg-black/50 backdrop-blur-sm"></div>
      <div class="absolute inset-0 flex items-center justify-center p-4 sm:p-6">
        <div class="bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden border border-slate-100">
          <div class="px-6 py-5 border-b border-slate-100 flex items-center justify-between">
            <div>
              <div class="text-base font-bold text-slate-800">不同意退款</div>
              <div class="text-xs text-slate-400 mt-0.5">退款 ID：<span id="ws-refund-modal-id">-</span></div>
            </div>
            <button
              id="ws-refund-cancel"
              type="button"
              class="p-2 hover:bg-slate-100 rounded-full transition-colors"
              aria-label="关闭"
              title="关闭"
            >
              <i class="fas fa-xmark text-lg"></i>
            </button>
          </div>
          <div class="p-6 space-y-3">
            <div class="text-xs text-slate-500">请填写不同意理由（将同步给申请方）。</div>
            <textarea
              id="ws-refund-note"
              rows="4"
              class="w-full px-3 py-2 rounded-xl border border-slate-200 text-sm bg-white"
              placeholder="请输入不同意原因"
            ></textarea>
            <div id="ws-refund-error" class="hidden text-xs text-rose-600"></div>
          </div>
          <div class="px-6 py-4 bg-slate-50 border-t border-slate-100 flex items-center justify-end gap-3">
            <button id="ws-refund-cancel-btn" type="button" class="px-4 py-2 rounded-xl border border-slate-200 text-xs font-semibold text-slate-700 hover:bg-slate-50">
              取消
            </button>
            <button id="ws-refund-submit" type="button" class="px-4 py-2 rounded-xl bg-rose-600 text-white text-xs font-semibold hover:bg-rose-700">
              提交
            </button>
          </div>
        </div>
      </div>
    </div>

    <div id="tiktok-sku-modal" class="fixed inset-0 z-[70] hidden flex items-center justify-center">
      <div id="tiktok-sku-modal-overlay" class="absolute inset-0 bg-black/50 backdrop-blur-sm"></div>
      <div class="relative max-w-3xl w-[92vw] max-h-[90vh] bg-white rounded-2xl shadow-soft border border-slate-100 flex flex-col my-6">
        <div class="px-6 py-4 border-b border-slate-100 flex items-start justify-between gap-4">
          <div class="min-w-0">
            <div id="tiktok-sku-modal-title" class="text-base font-bold text-slate-800 truncate">SKU 组合配置</div>
            <div id="tiktok-sku-modal-subtitle" class="text-xs text-slate-400 mt-0.5 truncate">-</div>
          </div>
          <div class="flex items-center gap-2">
            <span id="tiktok-sku-modal-status" class="text-[11px] px-2 py-1 rounded-full border font-black">未完成</span>
            <button id="tiktok-sku-modal-close" type="button" class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-xs font-semibold text-slate-700 hover:bg-slate-50">
              <i class="fas fa-xmark"></i>
            </button>
          </div>
        </div>
        <div class="p-6 space-y-4 overflow-y-auto">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
            <div class="space-y-1">
              <div class="text-[11px] font-semibold text-slate-600">Código identificador <span class="text-rose-600">*</span></div>
              <div class="flex items-center gap-2">
                <select data-sku-modal-field="sku_identifier_type" class="px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white">
                  <option value="GTIN">GTIN</option>
                  <option value="EAN">EAN</option>
                  <option value="UPC">UPC</option>
                  <option value="ISBN">ISBN</option>
                  <option value="JAN">JAN</option>
                </select>
                <input data-sku-modal-field="sku_identifier_code" class="flex-1 px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" />
              </div>
            </div>
            <div class="space-y-1">
              <div class="text-[11px] font-semibold text-slate-600">SKU 编码 <span class="text-rose-600">*</span></div>
              <input data-sku-modal-field="product_sn" class="px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" />
            </div>
            <div class="space-y-1">
              <div class="text-[11px] font-semibold text-slate-600">库存 (product_number) <span class="text-rose-600">*</span></div>
              <input data-sku-modal-field="product_number" class="px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" />
            </div>
            <div class="space-y-1">
              <div class="text-[11px] font-semibold text-slate-600">价格 <span class="text-rose-600">*</span></div>
              <input data-sku-modal-field="product_price" class="px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" />
            </div>
          </div>
          <div class="space-y-2">
            <div class="flex items-center justify-between gap-2 text-[11px] text-slate-600">
              <span>属性图（最多 10 张）</span>
              <button id="tiktok-sku-modal-upload" type="button" class="px-3 py-1.5 rounded-xl bg-slate-900 text-white text-[11px] font-semibold hover:bg-slate-800">
                上传图片
              </button>
              <input id="tiktok-sku-modal-file" type="file" accept="image/*" multiple class="hidden" />
            </div>
            <div id="tiktok-sku-modal-images" class="flex flex-wrap gap-2"></div>
          </div>
        </div>
      </div>
    </div>

    <div id="temu-sku-modal" class="fixed inset-0 z-[70] hidden flex items-center justify-center">
      <div id="temu-sku-modal-overlay" class="absolute inset-0 bg-black/50 backdrop-blur-sm"></div>
      <div class="relative max-w-3xl w-[92vw] max-h-[90vh] bg-white rounded-2xl shadow-soft border border-slate-100 flex flex-col my-6">
        <div class="px-6 py-4 border-b border-slate-100 flex items-start justify-between gap-4">
          <div class="min-w-0">
            <div id="temu-sku-modal-title" class="text-base font-bold text-slate-800 truncate">SKU 组合编辑</div>
            <div id="temu-sku-modal-subtitle" class="text-xs text-slate-400 mt-0.5 truncate">-</div>
          </div>
          <div class="flex items-center gap-2">
            <span id="temu-sku-modal-status" class="text-[11px] px-2 py-1 rounded-full border font-black">未完成</span>
            <button id="temu-sku-modal-close" type="button" class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-xs font-semibold text-slate-700 hover:bg-slate-50">
              <i class="fas fa-xmark"></i>
            </button>
          </div>
        </div>
        <div class="p-6 space-y-4 overflow-y-auto">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
            <div class="space-y-1">
              <div class="text-[11px] font-semibold text-slate-600">SKU 编码</div>
              <input data-sku-modal-field="product_sn" class="px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" />
            </div>
            <div class="space-y-1">
              <div class="text-[11px] font-semibold text-slate-600">库存 (product_number)</div>
              <input data-sku-modal-field="product_number" class="px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" />
            </div>
            <div class="space-y-1">
              <div class="text-[11px] font-semibold text-slate-600">价格 (MXN)</div>
              <input data-sku-modal-field="product_price" class="px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" />
            </div>
            <div class="space-y-1">
              <div class="text-[11px] font-semibold text-slate-600">重量 (g)</div>
              <input data-sku-modal-field="weight" class="px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" />
            </div>
            <div class="space-y-1">
              <div class="text-[11px] font-semibold text-slate-600">宽度 (cm)</div>
              <input data-sku-modal-field="width" class="px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" />
            </div>
            <div class="space-y-1">
              <div class="text-[11px] font-semibold text-slate-600">高度 (cm)</div>
              <input data-sku-modal-field="height" class="px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" />
            </div>
            <div class="space-y-1">
              <div class="text-[11px] font-semibold text-slate-600">长度 (cm)</div>
              <input data-sku-modal-field="length" class="px-3 py-2 rounded-xl border border-slate-200 text-xs bg-white" />
            </div>
          </div>
          <div class="space-y-2">
            <div class="flex items-center justify-between gap-2 text-[11px] text-slate-600">
              <span>属性图（最多 10 张）</span>
              <button id="temu-sku-modal-upload" type="button" class="px-3 py-1.5 rounded-xl bg-slate-900 text-white text-[11px] font-semibold hover:bg-slate-800">
                上传图片
              </button>
              <input id="temu-sku-modal-file" type="file" accept="image/*" multiple class="hidden" />
            </div>
            <div id="temu-sku-modal-images" class="flex flex-wrap gap-2"></div>
          </div>
        </div>
      </div>
    <div id="shein-attr-modal" class="fixed inset-0 z-[70] hidden flex items-center justify-center">
      <div id="shein-attr-modal-overlay" class="absolute inset-0 bg-black/50 backdrop-blur-sm"></div>
      <div class="relative w-full max-w-2xl mx-4 bg-white rounded-3xl shadow-xl border border-slate-200 overflow-hidden">
        <div class="flex items-start justify-between gap-3 p-5 border-b border-slate-100">
          <div class="min-w-0">
            <div id="shein-attr-modal-title" class="text-base font-bold text-slate-800 truncate">-</div>
            <div id="shein-attr-modal-subtitle" class="text-xs text-slate-400 mt-0.5 truncate">-</div>
          </div>
          <button id="shein-attr-modal-close" type="button" class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-xs font-semibold text-slate-700 hover:bg-slate-50">
            <i class="fas fa-xmark"></i>
          </button>
        </div>
        <div id="shein-attr-modal-body" class="p-5 space-y-3 max-h-[60vh] overflow-y-auto"></div>
        <div class="flex items-center justify-between gap-3 p-5 border-t border-slate-100">
          <button id="shein-attr-modal-clear" type="button" class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-xs font-semibold text-slate-700 hover:bg-slate-50">&#28165;&#31354;</button>
          <div class="flex items-center gap-2">
            <button id="shein-attr-modal-cancel" type="button" class="px-3 py-2 rounded-xl bg-white border border-slate-200 text-xs font-semibold text-slate-700 hover:bg-slate-50">&#21462;&#28040;</button>
            <button id="shein-attr-modal-confirm" type="button" class="px-3 py-2 rounded-xl bg-accent text-white text-xs font-semibold hover:bg-accent/90">&#30830;&#35748;</button>
          </div>
        </div>
      </div>
    </div>

    </div>

    <script>
      function toggleSidebar() {
        const sidebar = document.getElementById("sidebar");
        const overlay = document.getElementById("mobile-overlay");
        const isClosed = sidebar.classList.contains("-translate-x-full");

        if (isClosed) {
          sidebar.classList.remove("-translate-x-full");
          overlay.classList.remove("hidden");
          setTimeout(() => overlay.classList.add("opacity-100"), 10);
        } else {
          sidebar.classList.add("-translate-x-full");
          overlay.classList.remove("opacity-100");
          setTimeout(() => overlay.classList.add("hidden"), 300);
        }
      }

      function updateTime() {
        const now = new Date();
        const timeString = now.toLocaleString("zh-CN", {
          hour12: false,
          month: "2-digit",
          day: "2-digit",
          hour: "2-digit",
          minute: "2-digit",
        });
        const el = document.getElementById("current-time");
        if (el) el.innerText = timeString;
      }

      setInterval(updateTime, 1000);
      updateTime();
    </script>

    <script type="module" src="./app.js?v=2026-01-21-6"></script>
  </body>
</html>
